"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[137],{1940:(e,n,t)=>{t.d(n,{Kc:()=>o,MF:()=>i,nn:()=>a});var r=t(4451);const i=(0,r.j)((()=>t.e(465).then(t.bind(t,465))),(e=>e.ImageFast)),a=(0,r.j)((()=>t.e(606).then(t.bind(t,9606))),(e=>e.ImageSkeleton)),o=(0,r.j)((()=>t.e(613).then(t.bind(t,2613))),(e=>e.ImageSkeletonShow))},3246:(e,n,t)=>{t.d(n,{QV:()=>a,R0:()=>s,aj:()=>i,xN:()=>o});var r=t(4451);const i=(0,r.j)((()=>Promise.all([t.e(545),t.e(274)]).then(t.bind(t,825))),(e=>e.ModalLoading)),a=(0,r.j)((()=>Promise.all([t.e(524),t.e(96),t.e(156),t.e(545),t.e(291),t.e(712),t.e(647)]).then(t.bind(t,7647))),(e=>e.ModalPayment)),o=(0,r.j)((()=>Promise.all([t.e(524),t.e(327),t.e(156),t.e(545),t.e(675),t.e(712),t.e(630)]).then(t.bind(t,7630))),(e=>e.ModalArt)),s=(0,r.j)((()=>Promise.all([t.e(524),t.e(96),t.e(156),t.e(545),t.e(904),t.e(712),t.e(176)]).then(t.bind(t,176))),(e=>e.ModalGenArt))},4137:(e,n,t)=>{t.r(n),t.d(n,{AlbumPage:()=>S});var r=t(9950),i=t(6455),a=t(3247),o=t(1389),s=t(4418),c=t(5890),l=t(5439),u=t(1374),d=t(1317),f=t(194),p=t(8671),h=t(1878),m=t(5236),g=t(712),x=t(7385),y=t(327),v=t(6256),j=t(1940),w=t(3564),b=t(3246),C=t(4414);let _=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const S=()=>{(0,w.Zp)();const{configs:e,user:n}=(0,r.useContext)(m.rf),{setConfigs:t,setUser:S}=(0,r.useContext)(m.D8),[k,E]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!0),[I,B]=(0,r.useState)(!1),[P,T]=(0,r.useState)(!0),[z,M]=(0,r.useState)(0),[O,V]=(0,r.useState)([]),[W,D]=(0,r.useState)(),[L,F]=(0,r.useState)("All");(0,r.useEffect)((()=>{window.scrollTo(0,0),(async()=>{if(!e){const e=await(0,g.Y_)();t(e)}await K({isFirst:!1,_textKey:"",_cursor:0})})(),H()}),[]);const H=async()=>{var e;const t=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(t&&!n){t.ready();const e=t.initDataUnsafe.user;if(e){let n={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:0};const t=await(0,g.wz)(n.id);t?n={...t,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,g.kg)(n),S(n)}}},K=async t=>{let{isFirst:r,_textKey:i,_cursor:a}=t;if(!I&&O.length<=20){B(!0);let t=await(0,g.Zt)({id:n.id,cursor:a});t?(V([...O,...t]),M(a+50),a+50===e.limitSearch&&T(!1)):V([]),!N&&await(0,x.yy)(1e3),B(!1)}},R=(0,r.useCallback)((async()=>{const{scrollTop:e,scrollHeight:n,clientHeight:t}=document.documentElement;e+t>=n-.5&&await K({isFirst:!1,_textKey:"",_cursor:0})}),[O]);return(0,r.useEffect)((()=>(window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R))),[R]),(0,C.jsxs)(a.az,{children:[(0,C.jsxs)(i.mg,{children:[(0,C.jsx)("title",{children:"Album"}),(0,C.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,C.jsxs)(o.B,{h:"100vh",w:_,py:16,px:2,spacing:4,children:[(0,C.jsx)(o.B,{children:(0,C.jsx)(s.z,{pos:"fixed",zIndex:999,right:2,children:(0,C.jsxs)(c.W,{children:[(0,C.jsx)(l.I,{variant:"outline",borderRadius:"full",borderColor:"purple.400",borderWidth:1,as:u.$,rightIcon:(0,C.jsx)(y.gpS,{color:"white",size:18}),size:"sm",minW:20,_focus:{bg:"transparent"},_hover:{bg:"transparent"},_expanded:{bg:"transparent"},children:(0,C.jsx)(d.E,{color:"white",fontSize:14,fontWeight:"700",children:L})}),(0,C.jsx)(f.c,{backgroundColor:"gray.800",borderColor:"gray.800",color:"white",children:(0,C.jsxs)(p.i,{defaultValue:"All",type:"radio",onChange:e=>{F(e)},children:[(0,C.jsx)(h.k,{backgroundColor:"transparent",value:"All",children:"All"}),(0,C.jsx)(h.k,{backgroundColor:"transparent",value:"Photos",children:"Photos"}),(0,C.jsx)(h.k,{backgroundColor:"transparent",value:"Videos",children:"Videos"})]})})]})})}),(0,C.jsx)(o.B,{padding:0,pb:40,pt:6,onScroll:R,children:(0,C.jsx)(v.A,{columnsCount:2,gutter:"16px",children:O.map(((e,n)=>{const{uri:t}=e;return(0,C.jsx)(j.nn,{uri:t,onPress:()=>{D(e),E(!0)}},n)}))})})]}),W&&(0,C.jsx)(b.xN,{isOpen:k,dataAI:W,onClose:e=>{if(e&&O){const e=O.filter((e=>e.id!==W.id));V(e)}E(!1)}})]})}},6256:(e,n,t)=>{t.d(n,{A:()=>d});var r=t(9950);function i(){return i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i.apply(this,arguments)}function a(e,n){return a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},a(e,n)}var o=function(e){var n,t;function o(){return e.apply(this,arguments)||this}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,a(n,t);var s=o.prototype;return s.getColumns=function(){var e=this.props,n=e.children,t=e.columnsCount,i=Array.from({length:t},(function(){return[]})),a=0;return r.Children.forEach(n,(function(e){e&&r.isValidElement(e)&&(i[a%t].push(e),a++)})),i},s.renderColumns=function(){var e=this.props,n=e.gutter,t=e.itemTag,a=e.itemStyle;return this.getColumns().map((function(e,o){return r.createElement(t,{key:o,style:i({display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:n},a)},e.map((function(e){return e})))}))},s.render=function(){var e=this.props,n=e.gutter,t=e.className,a=e.style,o=e.containerTag;return r.createElement(o,{style:i({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:n},a),className:t},this.renderColumns())},o}(r.Component);o.propTypes={},o.defaultProps={columnsCount:3,gutter:"0",className:null,style:{},containerTag:"div",itemTag:"div",itemStyle:{}};const s=o;var c="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,l=function(){var e=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1];return c((function(){t(!0)}),[]),n}(),n=(0,r.useState)("undefined"!==typeof window?window.innerWidth:0),t=n[0],i=n[1],a=(0,r.useCallback)((function(){e&&i(window.innerWidth)}),[e]);return c((function(){if(e)return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[e,a]),t},u=function(e){var n=e.columnsCountBreakPoints,t=void 0===n?{350:1,750:2,900:3}:n,i=e.children,a=e.className,o=void 0===a?null:a,s=e.style,c=void 0===s?null:s,u=l(),d=(0,r.useMemo)((function(){var e=Object.keys(t).sort((function(e,n){return e-n})),n=e.length>0?t[e[0]]:1;return e.forEach((function(e){e<u&&(n=t[e])})),n}),[u,t]);return r.createElement("div",{className:o,style:c},r.Children.map(i,(function(e,n){return r.cloneElement(e,{key:n,columnsCount:d})})))};u.propTypes={};const d=s},1374:(e,n,t)=>{t.d(n,{$:()=>x});var r=t(9950);var i=t(221),[a,o]=(0,i.q)({strict:!1,name:"ButtonGroupContext"}),s=t(6306),c=t(7681),l=t(4414);function u(e){const{children:n,className:t,...i}=e,a=(0,r.isValidElement)(n)?(0,r.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,o=(0,c.cx)("chakra-button__icon",t);return(0,l.jsx)(s.B.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:o,children:a})}u.displayName="ButtonIcon";var d=t(63);function f(e){const{label:n,placement:t,spacing:i="0.5rem",children:a=(0,l.jsx)(d.y,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:u,...f}=e,p=(0,c.cx)("chakra-button__spinner",o),h="start"===t?"marginEnd":"marginStart",m=(0,r.useMemo)((()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[h]:n?i:0,fontSize:"1em",lineHeight:"normal",...u})),[u,n,h,i]);return(0,l.jsx)(s.B.div,{className:p,...f,__css:m,children:a})}f.displayName="ButtonSpinner";var p=t(7237),h=t(8039),m=t(6296),g=t(2867),x=(0,h.R)(((e,n)=>{const t=o(),i=(0,m.Vl)("Button",{...t,...e}),{isDisabled:a=(null==t?void 0:t.isDisabled),isLoading:u,isActive:d,children:h,leftIcon:x,rightIcon:v,loadingText:j,iconSpacing:w="0.5rem",type:b,spinner:C,spinnerPlacement:_="start",className:S,as:k,...E}=(0,g.MN)(e),N=(0,r.useMemo)((()=>{const e={...null==i?void 0:i._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!t&&{_focus:e}}}),[i,t]),{ref:A,type:I}=function(e){const[n,t]=(0,r.useState)(!e);return{ref:(0,r.useCallback)((e=>{e&&t("BUTTON"===e.tagName)}),[]),type:n?"button":void 0}}(k),B={rightIcon:v,leftIcon:x,iconSpacing:w,children:h};return(0,l.jsxs)(s.B.button,{ref:(0,p.SV)(n,A),as:k,type:null!=b?b:I,"data-active":(0,c.sE)(d),"data-loading":(0,c.sE)(u),__css:N,className:(0,c.cx)("chakra-button",S),...E,disabled:a||u,children:[u&&"start"===_&&(0,l.jsx)(f,{className:"chakra-button__spinner--start",label:j,placement:"start",spacing:w,children:C}),u?j||(0,l.jsx)(s.B.span,{opacity:0,children:(0,l.jsx)(y,{...B})}):(0,l.jsx)(y,{...B}),u&&"end"===_&&(0,l.jsx)(f,{className:"chakra-button__spinner--end",label:j,placement:"end",spacing:w,children:C})]})}));function y(e){const{leftIcon:n,rightIcon:t,children:r,iconSpacing:i}=e;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)(u,{marginEnd:i,children:n}),r,t&&(0,l.jsx)(u,{marginStart:i,children:t})]})}x.displayName="Button"},1317:(e,n,t)=>{t.d(n,{E:()=>u});var r=t(8039),i=t(6296),a=t(2867),o=t(6306),s=t(7681),c=t(7924),l=t(4414),u=(0,r.R)((function(e,n){const t=(0,i.Vl)("Text",e),{className:r,align:u,decoration:d,casing:f,...p}=(0,a.MN)(e),h=(0,c.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,l.jsx)(o.B.p,{ref:n,className:(0,s.cx)("chakra-text",e.className),...h,...p,__css:t})}));u.displayName="Text"},7924:(e,n,t)=>{function r(e){const n=Object.assign({},e);for(let t in n)void 0===n[t]&&delete n[t];return n}t.d(n,{o:()=>r})},7237:(e,n,t)=>{t.d(n,{Px:()=>i,SV:()=>a});var r=t(9950);function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return e=>{n.forEach((n=>{!function(e,n){if(null!=e)if("function"!==typeof e)try{e.current=n}catch(t){throw new Error("Cannot assign value '".concat(n,"' to ref '").concat(e,"'"))}else e(n)}(n,e)}))}}function a(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.useMemo)((()=>i(...n)),n)}}}]);