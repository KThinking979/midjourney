"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[290],{70712:(e,o,n)=>{n.d(o,{kg:()=>r,wz:()=>c,FH:()=>a});var t=n(66220);const s=(0,n(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),i=(0,t.aU)(s),r=async e=>{let{id:o,username:n,emoFiCoins:s}=e;try{await(0,t.BN)((0,t.H9)(i,"users","".concat(o)),{id:o,username:n,emoFiCoins:s})}catch(r){console.error("Error createUser: ",r)}},c=async e=>{try{let o;const n=(0,t.H9)(i,"users","".concat(e)),s=await(0,t.x7)(n);return s.exists()&&(o=s.data()),o}catch(o){console.error("Error getUser: ",o)}},a=async e=>{let{model:o,server:n,text:t,cursor:s}=e;try{const e="".concat(window.location.protocol,"//").concat(n);console.log("Kai ADDRESS ",n),console.log("Kai model ",o),console.log("Kai text ",t),console.log("Kai cursor ",s);const i=new Headers;i.append("Content-Type","application/json"),i.append("Accept","application/json, text/plain, */*");const r=await fetch(e,{method:"POST",headers:i,mode:"cors",credentials:"include",body:JSON.stringify({model:o,text:t,cursor:s,searchMode:"images",source:"search"})});if(console.log("Kai cursor 2",s),200!==r.status)return console.log("Kai Error ",await r.text()),{error:!0};return await r.json()}catch(i){return console.log("Kai Error ",i),{error:!0}}}},77909:(e,o,n)=>{n.r(o),n.d(o,{AccountPage:()=>y});var t=n(9950),s=n(76455),i=n(63247),r=n(61530),c=n(27009),a=n(46206),l=n(3731),d=n(34418),u=n(81374),p=n(22238),h=n(6365),m=n(42691),g=n(32119),f=n(93660),x=n(70712),w=n(44414);let j=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const y=()=>{const{user:e}=(0,t.useContext)(p.j8);console.log("user ",e);const{setUser:o}=t.useContext(p.LN);(0,t.useEffect)((()=>{n(),(async()=>{var n;const t=null===(n=window.Telegram)||void 0===n?void 0:n.WebApp;if(t&&!e){t.ready();const e=t.initDataUnsafe.user;if(e){let n={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const t=await(0,x.wz)(n.id);t?n={...n,emoFiCoins:t.emoFiCoins}:await(0,x.kg)(n),o(n)}}})()}),[]);const n=async()=>{};return(0,w.jsxs)(i.az,{children:[(0,w.jsxs)(s.mg,{children:[(0,w.jsx)("title",{children:"Wallet"}),(0,w.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,w.jsxs)(r.B,{h:"100vh",w:j,py:20,px:2,spacing:8,children:[e&&(0,w.jsxs)(r.B,{borderRadius:8,p:2,spacing:4,alignItems:"center",children:[(0,w.jsx)(c.Q,{children:(0,w.jsx)(a.e,{size:"xl",name:e.username,src:""})}),(0,w.jsx)(l.E,{fontSize:"16px",lineHeight:"20px",fontWeight:"bold",textAlign:"center",color:"white",children:e.username})]}),(0,w.jsxs)(r.B,{spacing:4,flex:1,justifyContent:"center",children:[(0,w.jsx)(d.z,{spacing:2,children:(0,w.jsx)(l.E,{color:"white",fontSize:16,fontWeight:"700",children:"Wallet TON"})}),(0,w.jsx)(f.MJ,{style:{alignSelf:"center",justifyContent:"center"}}),(0,w.jsx)(u.$,{leftIcon:(0,w.jsx)(h.vsi,{color:"white",size:24}),colorScheme:"cyan",variant:"solid",borderRadius:"full",fontSize:16,onClick:async()=>{console.log("Start Bot 0");const e=new m.cC("7192930476:AAHacE6OvBdRg3wGTtdykYnMO8CboruT3oQ"),o=await e.api.createInvoiceLink("Test Product","Test description","{}","","XTR",[{amount:1,label:"Test Product"}]);console.log("invoiceLink ",o),g.A.openInvoice(o,(e=>{console.log("Status ",e)})),console.log("Start Bot 1")},children:(0,w.jsx)(l.E,{fontSize:16,textAlign:"center",color:"white",children:"Buy Star"})})]})]})]})}}}]);