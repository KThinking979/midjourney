"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[4137],{1940:(e,n,t)=>{t.d(n,{Kc:()=>o,MF:()=>i,nn:()=>r});var s=t(4451);const i=(0,s.j)((()=>t.e(465).then(t.bind(t,465))),(e=>e.ImageFast)),r=(0,s.j)((()=>t.e(9606).then(t.bind(t,9606))),(e=>e.ImageSkeleton)),o=(0,s.j)((()=>t.e(2613).then(t.bind(t,2613))),(e=>e.ImageSkeletonShow))},3246:(e,n,t)=>{t.d(n,{QV:()=>r,R0:()=>a,aj:()=>i,xN:()=>o});var s=t(4451);const i=(0,s.j)((()=>Promise.all([t.e(9545),t.e(1274)]).then(t.bind(t,825))),(e=>e.ModalLoading)),r=(0,s.j)((()=>Promise.all([t.e(8524),t.e(2096),t.e(6156),t.e(9545),t.e(9291),t.e(712),t.e(7647)]).then(t.bind(t,7647))),(e=>e.ModalPayment)),o=(0,s.j)((()=>Promise.all([t.e(8524),t.e(327),t.e(6156),t.e(9545),t.e(6675),t.e(712),t.e(7630)]).then(t.bind(t,7630))),(e=>e.ModalArt)),a=(0,s.j)((()=>Promise.all([t.e(8524),t.e(2096),t.e(6156),t.e(9545),t.e(6904),t.e(712),t.e(176)]).then(t.bind(t,176))),(e=>e.ModalGenArt))},4137:(e,n,t)=>{t.r(n),t.d(n,{AlbumPage:()=>S});var s=t(9950),i=t(6455),r=t(3247),o=t(1389),a=t(4418),l=t(5890),c=t(5439),d=t(1374),u=t(1317),h=t(194),x=t(8671),g=t(1878),j=t(5236),m=t(712),p=t(7385),w=t(327),f=t(6256),b=t(1940),y=t(3564),k=t(3246),v=t(4414);let C=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const S=()=>{(0,y.Zp)();const{configs:e,user:n}=(0,s.useContext)(j.rf),{setConfigs:t,setUser:S}=(0,s.useContext)(j.D8),[_,A]=(0,s.useState)(!1),[P,I]=(0,s.useState)(!0),[z,W]=(0,s.useState)(!1),[E,M]=(0,s.useState)(!0),[F,K]=(0,s.useState)(0),[V,B]=(0,s.useState)([]),[H,L]=(0,s.useState)(),[T,D]=(0,s.useState)("All");(0,s.useEffect)((()=>{window.scrollTo(0,0),(async()=>{if(!e){const e=await(0,m.Y_)();t(e)}await R({isFirst:!1,_textKey:"",_cursor:0})})(),N()}),[]);const N=async()=>{var e;const t=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(t&&!n){t.ready();const e=t.initDataUnsafe.user;if(e){let n={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:0};const t=await(0,m.wz)(n.id);t?n={...t,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,m.kg)(n),S(n)}}},R=async t=>{let{isFirst:s,_textKey:i,_cursor:r}=t;if(!z&&V.length<=20){W(!0);let t=await(0,m.Zt)({id:n.id,cursor:r});t?(B([...V,...t]),K(r+50),r+50===e.limitSearch&&M(!1)):B([]),!P&&await(0,p.yy)(1e3),W(!1)}},U=(0,s.useCallback)((async()=>{const{scrollTop:e,scrollHeight:n,clientHeight:t}=document.documentElement;e+t>=n-.5&&await R({isFirst:!1,_textKey:"",_cursor:0})}),[V]);return(0,s.useEffect)((()=>(window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U))),[U]),(0,v.jsxs)(r.az,{children:[(0,v.jsxs)(i.mg,{children:[(0,v.jsx)("title",{children:"Album"}),(0,v.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,v.jsxs)(o.B,{h:"100vh",w:C,py:16,px:2,spacing:4,children:[(0,v.jsx)(o.B,{children:(0,v.jsx)(a.z,{pos:"fixed",zIndex:999,right:2,children:(0,v.jsxs)(l.W,{children:[(0,v.jsx)(c.I,{variant:"outline",borderRadius:"full",borderColor:"purple.400",borderWidth:1,as:d.$,rightIcon:(0,v.jsx)(w.gpS,{color:"white",size:18}),size:"sm",minW:20,_focus:{bg:"transparent"},_hover:{bg:"transparent"},_expanded:{bg:"transparent"},children:(0,v.jsx)(u.E,{color:"white",fontSize:14,fontWeight:"700",children:T})}),(0,v.jsx)(h.c,{backgroundColor:"gray.800",borderColor:"gray.800",color:"white",children:(0,v.jsxs)(x.i,{defaultValue:"All",type:"radio",onChange:e=>{D(e)},children:[(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"All",children:"All"}),(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"Photos",children:"Photos"}),(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"Videos",children:"Videos"})]})})]})})}),(0,v.jsx)(o.B,{padding:0,pb:40,pt:6,onScroll:U,children:(0,v.jsx)(f.A,{columnsCount:2,gutter:"16px",children:V.map(((e,n)=>{const{uri:t}=e;return(0,v.jsx)(b.nn,{uri:t,onPress:()=>{L(e),A(!0)}},n)}))})})]}),H&&(0,v.jsx)(k.xN,{isOpen:_,dataAI:H,onClose:e=>{if(e&&V){const e=V.filter((e=>e.id!==H.id));B(e)}A(!1)}})]})}}}]);