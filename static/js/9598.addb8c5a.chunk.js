"use strict";(self.webpackChunkmidjourney=self.webpackChunkmidjourney||[]).push([[9598],{9598:(e,t,o)=>{o.r(t),o.d(t,{PaymentPage:()=>E});var n=o(9950),c=o(6455),s=o(2099),i=o(3247),r=o(1389),a=o(1317),l=o(4418),d=o(393),u=o(6086),h=o(6569),x=o(1374),p=o(5236),j=o(712),f=o(2096),b=o(2875),m=o(2691),w=o(2119),g=o(4456),y=o(3564),z=o(3246),C=o(6742),S=o(6451),k=o(8412),P=o(4414);let I=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const E=()=>{const e=(0,y.Zp)(),{t:t}=(0,C.B)(),{user:E,configs:B}=(0,n.useContext)(p.rf),{setUser:A}=(0,n.useContext)(p.D8),W=(0,s.d)(),[_,v]=(0,n.useState)(!1),[F,N]=(0,n.useState)(B&&B.package?B.package[0]:g.Hy[0]),[U,H]=(0,n.useState)(B&&B.package?B.package:g.Hy);(0,n.useEffect)((()=>{R()}),[]);const R=async()=>{window.scrollTo(0,0),E&&B||e(k.W.DASHBOARD)};return(0,P.jsxs)(i.az,{children:[(0,P.jsxs)(c.mg,{children:[(0,P.jsx)("title",{children:t(S.P.account.payment)}),(0,P.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,P.jsx)(r.B,{h:"100vh",w:I,py:20,px:2,children:(0,P.jsxs)(r.B,{spacing:4,pb:40,children:[(0,P.jsxs)(r.B,{justifyContent:"center",alignItems:"center",children:[(0,P.jsx)(a.E,{color:"white",fontSize:18,fontWeight:"bold",children:t(S.P.account.purchase_coins)}),(0,P.jsx)(a.E,{color:"white",fontSize:14,children:t(S.P.account.des_purchase_coins)})]}),U.map((e=>{const{id:n,coins:c,cost:s,disCost:i,description1:x}=e,p=c/(B&&B.feeBasic?B.feeBasic:.2),j=n===F.id;return(0,P.jsx)(r.B,{spacing:4,borderRadius:8,borderColor:j?"blue.400":"gray.500",borderWidth:j?2:1,px:2,py:4,onClick:()=>{N(e)},children:(0,P.jsxs)(l.z,{spacing:2,justifyContent:"space-between",children:[(0,P.jsxs)(r.B,{spacing:2,children:[(0,P.jsxs)(l.z,{children:[(0,P.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,P.jsx)(a.E,{color:"white",fontSize:14,children:(new Intl.NumberFormat).format(c)}),(0,P.jsx)(u.o,{children:(0,P.jsx)(h._,{boxSize:"18px",src:o(2975),alt:"card"})}),(0,P.jsx)(a.E,{color:"white",fontSize:14,children:t(S.P.account.coins)})]}),(0,P.jsxs)(l.z,{children:[(0,P.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,P.jsx)(a.E,{color:"white",fontSize:14,children:"".concat((new Intl.NumberFormat).format(p)," ").concat(t(S.P.account.description1))})]}),i&&(0,P.jsxs)(l.z,{children:[(0,P.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,P.jsx)(a.E,{color:"red.400",fontSize:14,children:"".concat(t(S.P.account.save)," ").concat(((i-s)/i*100).toFixed(2),"%")})]})]}),(0,P.jsxs)(r.B,{alignItems:"center",justifyContent:"center",spacing:"2px",children:[(0,P.jsx)(a.E,{color:"white",fontSize:18,fontWeight:"700",children:"$".concat(s)}),i&&(0,P.jsx)(a.E,{as:"s",color:"gray",fontSize:17,children:"$".concat(i)})]})]})},n)}))]})}),(0,P.jsx)(r.B,{pb:2,spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,P.jsx)(x.$,{maxWidth:"500px",py:4,mx:2,my:4,colorScheme:"green",borderRadius:"full",onClick:async()=>{try{v(!0);const o=new m.cC(B.tokenApp),n=F.title,c=F.title,s="{}",i="XTR",r=[{amount:F.star,label:F.title}],a=await o.api.createInvoiceLink(n,c,s,"",i,r);let l=F.coins;o.on("pre_checkout_query",(e=>e.answerPreCheckoutQuery(!0).catch((()=>{console.log("answerPreCheckoutQuery failed")})))),w.A.openInvoice(a,(async o=>{if("paid"===o){const o=parseFloat(E.coins+F.coins);await(0,j.bF)({id:E.id,coins:o,transactionId:l}),A({...E,coins:o}),v(!1),W({title:t(S.P.account.success_purchase),status:"success",position:"bottom",isClosable:!0,duration:2e3}),e(k.W.ACCOUNT)}else v(!1),W({title:t(S.P.account.fail_purchase),status:"error",position:"bottom",isClosable:!0,duration:2e3})})),o.start()}catch(o){console.log("Error ",o),v(!1),W({title:t(S.P.account.fail_purchase),status:"error",position:"bottom",isClosable:!0,duration:2e3})}},children:(0,P.jsxs)(l.z,{children:[(0,P.jsx)(a.E,{color:"white",fontSize:16,fontWeight:"700",children:t(S.P.account.payment)}),(0,P.jsx)(a.E,{color:"white",fontSize:16,children:(new Intl.NumberFormat).format(F.star)}),(0,P.jsx)(d.I,{color:"yellow.400",as:b.gt3,boxSize:5})]})})}),(0,P.jsx)(z.aj,{isOpen:_})]})}},2099:(e,t,o)=>{o.d(t,{d:()=>r});var n=o(6598),c=o(9791),s=o(4336),i=o(9950);function r(e){const{theme:t}=(0,s.UQ)(),o=(0,n.NU)();return(0,i.useMemo)((()=>(0,c.UP)(t.direction,{...o,...e})),[e,t.direction,o])}}}]);