"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[598],{712:(e,t,n)=>{n.d(t,{kg:()=>i,Y_:()=>a,wz:()=>p,FH:()=>u,bF:()=>l,TK:()=>d});var o=n(6220);const s=(0,n(815).Wp)({apiKey:"AIzaSyBOTVOdSu20rXHX_VWHnV3XmS9ZcnfQuBQ",authDomain:"midjourneyai-71161.firebaseapp.com",projectId:"midjourneyai-71161",storageBucket:"midjourneyai-71161.appspot.com",messagingSenderId:"559017193613",appId:"1:559017193613:web:8f4159f592c0a63e4e32c4",measurementId:"G-FEN6H6F61Y"}),c=(0,o.aU)(s);var r=n(4456);const a=async()=>{try{let e;const t=(0,o.H9)(c,"configs","configs"),n=await(0,o.x7)(t);return n.exists()&&(e=n.data()),e}catch(e){console.error("Error getUser: ",e)}},i=async e=>{let{id:t,username:n,coins:s}=e;try{const e=(new Date).toISOString().slice(0,10).replace("-","").replace("-","");await(0,o.BN)((0,o.H9)(c,"users","".concat(t)),{id:"".concat(t),username:n,coins:s,numAds:1,expDateAds:e,language:"en",createdAt:new Date,updateAt:new Date})}catch(r){console.error("Error createUser: ",r)}},l=async e=>{let{id:t,coins:n,transactionId:s}=e;try{await(0,o.mZ)((0,o.H9)(c,"users","".concat(t)),{coins:n,updateAtTrans:"COIN_".concat(new Date),transactionId:"".concat(s)})}catch(r){console.error("Error updateCoinsUser: ",r)}},d=async e=>{let{id:t,coins:n,language:s,numAds:r,expDateAds:a}=e;try{let e={};s&&(e={...e,language:s}),null!==n&&void 0!==n&&(e={...e,coins:n}),null!==r&&void 0!==r&&(e={...e,numAds:r}),null!==a&&void 0!==a&&(e={...e,expDateAds:a}),await(0,o.mZ)((0,o.H9)(c,"users","".concat(t)),{...e,updateAt:new Date})}catch(i){console.error("Error updateCoinsUser: ",i)}},p=async e=>{try{let t;const n=(0,o.H9)(c,"users","".concat(e)),s=await(0,o.x7)(n);return s.exists()&&(t=s.data()),t}catch(t){console.error("Error getUser: ",t)}},u=async e=>{let{model:t,server:n,text:o,cursor:s}=e;try{"".concat(window.location.protocol,"//").concat(n);const e=new Headers;e.append("Content-Type","application/json"),e.append("Accept","application/json, text/plain, */*"),e.append("Accept-Language","en-US,en;q=0.9"),e.append("Referer","https://lexica.art/");return r.Ze}catch(c){return console.log("Kai Error ",c),{error:!0}}}},3246:(e,t,n)=>{n.d(t,{a:()=>o});const o=(0,n(4451).j)((()=>Promise.all([n.e(448),n.e(825)]).then(n.bind(n,825))),(e=>e.ModalLoading))},9598:(e,t,n)=>{n.r(t),n.d(t,{PaymentPage:()=>A});var o=n(9950),s=n(6455),c=n(2099),r=n(3247),a=n(1389),i=n(1317),l=n(4418),d=n(393),p=n(6086),u=n(6569),h=n(1374),x=n(5236),j=n(712),f=n(2096),g=n(2875),m=n(2691),w=n(2119),y=n(4456),b=n(3564),S=n(3246),C=n(8412),z=n(4414);let I=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const A=()=>{const e=(0,b.Zp)(),{user:t,configs:A}=(0,o.useContext)(x.rf),{setUser:k}=(0,o.useContext)(x.D8),E=(0,c.d)(),[B,H]=(0,o.useState)(!1),[F,P]=(0,o.useState)(A&&A.package?A.package[0]:y.Hy[0]),[v,D]=(0,o.useState)(A&&A.package?A.package:y.Hy);(0,o.useEffect)((()=>{W()}),[]);const W=async()=>{window.scrollTo(0,0)};return(0,z.jsxs)(r.az,{children:[(0,z.jsxs)(s.mg,{children:[(0,z.jsx)("title",{children:"Payment"}),(0,z.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,z.jsx)(a.B,{h:"100vh",w:I,py:20,px:2,children:(0,z.jsxs)(a.B,{spacing:4,pb:40,children:[(0,z.jsxs)(a.B,{justifyContent:"center",alignItems:"center",children:[(0,z.jsx)(i.E,{color:"white",fontSize:18,fontWeight:"bold",children:"Purchase Coins"}),(0,z.jsx)(i.E,{color:"white",fontSize:14,children:"Please choose one of the following costs"})]}),v.map((e=>{const{id:t,coins:o,cost:s,disCost:c,description1:r}=e,h=o/(A&&A.feeBasic?A.feeBasic:.2),x=t===F.id;return(0,z.jsx)(a.B,{spacing:4,borderRadius:8,borderColor:x?"blue.400":"gray.500",borderWidth:x?2:1,px:2,py:4,onClick:()=>{P(e)},children:(0,z.jsxs)(l.z,{spacing:2,justifyContent:"space-between",children:[(0,z.jsxs)(a.B,{spacing:2,children:[(0,z.jsxs)(l.z,{children:[(0,z.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,z.jsx)(i.E,{color:"white",fontSize:14,children:(new Intl.NumberFormat).format(o)}),(0,z.jsx)(p.o,{children:(0,z.jsx)(u._,{boxSize:"18px",src:n(2975),alt:"card"})}),(0,z.jsx)(i.E,{color:"white",fontSize:14,children:"Coins"})]}),(0,z.jsxs)(l.z,{children:[(0,z.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,z.jsx)(i.E,{color:"white",fontSize:14,children:"".concat((new Intl.NumberFormat).format(h)," ").concat(r)})]}),c&&(0,z.jsxs)(l.z,{children:[(0,z.jsx)(d.I,{color:"blue.400",as:f.dA7,boxSize:6}),(0,z.jsx)(i.E,{color:"red.400",fontSize:14,children:"Save ".concat(((c-s)/c*100).toFixed(2),"%")})]})]}),(0,z.jsxs)(a.B,{alignItems:"center",justifyContent:"center",spacing:"2px",children:[(0,z.jsx)(i.E,{color:"white",fontSize:18,fontWeight:"700",children:"$".concat(s)}),c&&(0,z.jsx)(i.E,{as:"s",color:"gray",fontSize:17,children:"$".concat(c)})]})]})},t)}))]})}),(0,z.jsx)(a.B,{spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,z.jsx)(h.$,{maxWidth:"500px",py:4,mx:2,my:4,colorScheme:"green",borderRadius:"full",onClick:async()=>{try{H(!0);const n=new m.cC(A.tokenApp),o=F.title,s=F.title,c="{}",r="XTR",a=[{amount:F.star,label:F.title}],i=await n.api.createInvoiceLink(o,s,c,"",r,a);let l=F.coins;n.on("pre_checkout_query",(e=>e.answerPreCheckoutQuery(!0).catch((()=>{console.log("answerPreCheckoutQuery failed")})))),w.A.openInvoice(i,(async n=>{if("paid"===n){const n=parseFloat(t.coins+F.coins);await(0,j.bF)({id:t.id,coins:n,transactionId:l}),k({...t,coins:n}),H(!1),E({title:"Success Purchase",status:"success",position:"top",isClosable:!0}),e(C.W.ACCOUNT)}else H(!1),E({title:"Fail Purchase",status:"error",position:"top",isClosable:!0})})),n.start()}catch(n){console.log("Error ",n),H(!1),E({title:"Fail Purchase",status:"error",position:"top",isClosable:!0})}},children:(0,z.jsxs)(l.z,{children:[(0,z.jsx)(i.E,{color:"white",fontSize:16,fontWeight:"700",children:"Payment"}),(0,z.jsx)(i.E,{color:"white",fontSize:16,children:(new Intl.NumberFormat).format(F.star)}),(0,z.jsx)(d.I,{color:"yellow.400",as:g.gt3,boxSize:5})]})})}),(0,z.jsx)(S.a,{isOpen:B})]})}},2975:(e,t,n)=>{e.exports=n.p+"static/media/coin.84cf06a861a4cfb9ad42.png"}}]);