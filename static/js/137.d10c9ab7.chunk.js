"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[137],{1940:(e,t,n)=>{n.d(t,{Kc:()=>o,MF:()=>i,nn:()=>r});var s=n(4451);const i=(0,s.j)((()=>n.e(465).then(n.bind(n,465))),(e=>e.ImageFast)),r=(0,s.j)((()=>n.e(606).then(n.bind(n,9606))),(e=>e.ImageSkeleton)),o=(0,s.j)((()=>n.e(613).then(n.bind(n,2613))),(e=>e.ImageSkeletonShow))},3246:(e,t,n)=>{n.d(t,{aj:()=>i,xN:()=>r});var s=n(4451);const i=(0,s.j)((()=>Promise.all([n.e(545),n.e(825)]).then(n.bind(n,825))),(e=>e.ModalLoading)),r=((0,s.j)((()=>Promise.all([n.e(524),n.e(96),n.e(545),n.e(969),n.e(712),n.e(647)]).then(n.bind(n,7647))),(e=>e.ModalPayment)),(0,s.j)((()=>Promise.all([n.e(524),n.e(327),n.e(96),n.e(545),n.e(577),n.e(712),n.e(630)]).then(n.bind(n,7630))),(e=>e.ModalArt)))},4137:(e,t,n)=>{n.r(t),n.d(t,{AlbumPage:()=>S});var s=n(9950),i=n(6455),r=n(3247),o=n(1389),a=n(4418),l=n(5890),c=n(5439),d=n(1374),u=n(1317),h=n(194),x=n(8671),g=n(1878),j=n(5236),m=n(712),p=n(7385),w=n(327),f=n(6256),b=n(1940),y=n(3564),k=n(3246),v=n(4414);let C=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const S=()=>{(0,y.Zp)();const{configs:e,user:t}=(0,s.useContext)(j.rf),{setConfigs:n,setUser:S}=(0,s.useContext)(j.D8),[_,A]=(0,s.useState)(!1),[I,P]=(0,s.useState)(!0),[z,W]=(0,s.useState)(!1),[E,F]=(0,s.useState)(!0),[M,K]=(0,s.useState)(0),[B,H]=(0,s.useState)([]),[L,T]=(0,s.useState)(),[V,D]=(0,s.useState)("All");(0,s.useEffect)((()=>{window.scrollTo(0,0),(async()=>{if(!e){const e=await(0,m.Y_)();n(e)}await U({isFirst:!1,_textKey:"",_cursor:0})})(),N()}),[]);const N=async()=>{var e;const n=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(n&&!t){n.ready();const e=n.initDataUnsafe.user;if(e){let t={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:0};const n=await(0,m.wz)(t.id);n?t={...n,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,m.kg)(t),S(t)}}},U=async n=>{let{isFirst:s,_textKey:i,_cursor:r}=n;if(!z&&B.length<=20){W(!0);let n=await(0,m.Zt)({id:t.id,cursor:r});n?(H([...B,...n]),K(r+50),r+50===e.limitSearch&&F(!1)):H([]),!I&&await(0,p.yy)(1e3),W(!1)}},Z=(0,s.useCallback)((async()=>{const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;e+n>=t-.5&&await U({isFirst:!1,_textKey:"",_cursor:0})}),[B]);return(0,s.useEffect)((()=>(window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z))),[Z]),(0,v.jsxs)(r.az,{children:[(0,v.jsxs)(i.mg,{children:[(0,v.jsx)("title",{children:"Album"}),(0,v.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,v.jsxs)(o.B,{h:"100vh",w:C,py:16,px:2,spacing:4,children:[(0,v.jsx)(o.B,{children:(0,v.jsx)(a.z,{pos:"fixed",zIndex:999,right:2,children:(0,v.jsxs)(l.W,{children:[(0,v.jsx)(c.I,{variant:"outline",borderRadius:"full",borderColor:"purple.400",borderWidth:1,as:d.$,rightIcon:(0,v.jsx)(w.gpS,{color:"white",size:18}),size:"sm",minW:20,_focus:{bg:"transparent"},_hover:{bg:"transparent"},_expanded:{bg:"transparent"},children:(0,v.jsx)(u.E,{color:"white",fontSize:14,fontWeight:"700",children:V})}),(0,v.jsx)(h.c,{backgroundColor:"gray.800",borderColor:"gray.800",color:"white",children:(0,v.jsxs)(x.i,{defaultValue:"All",type:"radio",onChange:e=>{D(e)},children:[(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"All",children:"All"}),(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"Photos",children:"Photos"}),(0,v.jsx)(g.k,{backgroundColor:"transparent",value:"Videos",children:"Videos"})]})})]})})}),(0,v.jsx)(o.B,{padding:0,pb:40,pt:6,onScroll:Z,children:(0,v.jsx)(f.A,{columnsCount:2,gutter:"16px",children:B.map(((e,t)=>{const{uri:n}=e;return(0,v.jsx)(b.nn,{uri:n,onPress:()=>{T(e),A(!0)}},t)}))})})]}),L&&(0,v.jsx)(k.xN,{isOpen:_,dataAI:L,onClose:e=>{if(e&&B){const e=B.filter((e=>e.id!==L.id));H(e)}A(!1)}})]})}}}]);