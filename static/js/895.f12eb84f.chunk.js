"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[895],{1940:(e,t,s)=>{s.d(t,{M:()=>o,n:()=>a});var n=s(4451);const o=(0,n.j)((()=>s.e(465).then(s.bind(s,465))),(e=>e.ImageFast)),a=(0,n.j)((()=>s.e(919).then(s.bind(s,8919))),(e=>e.ImageSkeleton))},3246:(e,t,s)=>{s.d(t,{a:()=>n});const n=(0,s(4451).j)((()=>Promise.all([s.e(545),s.e(825)]).then(s.bind(s,825))),(e=>e.ModalLoading))},6895:(e,t,s)=>{s.r(t),s.d(t,{GenArtisticPage:()=>b});var n=s(9950),o=s(6455),a=s(2099),i=s(3247),c=s(1389),l=s(4418),r=s(1374),d=s(393),u=s(1317),m=s(5236),p=s(3564),h=s(3246),f=s(712),x=s(4456),j=s(7385),y=s(1940),S=s(9591),g=s(5495),w=s(4414);let k=window.innerWidth>500?500:window.innerWidth,C=!1;const b=()=>{const e=(0,p.Zp)(),t=((0,a.d)(),(0,p.zy)()),{user:s,configs:b,listAIStyleAll:A}=(0,n.useContext)(m.rf),{setUser:I}=(0,n.useContext)(m.D8),[F,_]=(0,n.useState)(!1),[v,z]=(0,n.useState)(!1),[W,E]=(0,n.useState)(!1),[R,G]=(0,n.useState)(!1),[D,M]=(0,n.useState)(!1),[P,T]=(0,n.useState)(),[K,U]=(0,n.useState)(),[B,O]=(0,n.useState)([]);(0,n.useEffect)((()=>{V()}),[]);const V=async()=>{C=!1;let n,o=[],a=0;try{const i=t.state;if(s&&i&&i.dataAI){const e=i.dataAI,t=s;_(!0),T(e),1===e.samples&&(o=[""],O([""])),2===e.samples&&(o=["",""],O(["",""])),3===e.samples&&(o=["","",""],O(["","",""])),4===e.samples&&(o=["","","",""],O(["","","",""]));const c=e.style?e.style.key:"";let l="".concat(c.replace("{prompt}",e.prompt));const r=e.style?e.style.negativeKey:"",d="".concat(e.negativeKey," ").concat(r);if((e.isFree||!e.isFree&&parseFloat(t.coins)>=parseFloat(e.feeCoin))&&e.type===x.Wk.GEN)for(let s=0;s<e.samples&&!C;s++){let t=e.seed;if(-1===e.seed&&(t=(0,j.RZ)({min:0,max:x.Vm})),e.type===x.Wk.GEN&&"ProGen"===e.model){b.token,b.server;n={data:x.EW,isSuccess:!0}}n&&!n.error&&(o[s]=n.data,n.isSuccess&&(a+=parseFloat(e.feeCoin)/e.samples))}if(O(o),U(o[0]),_(!1),e.isFree){const t=(new Date).toUTCString(),n="".concat(s.dateAds,"_").concat(e.mode,"_ADS_V1_").concat(t);(0,f.TK)({id:s.id,updatedAt:n})}else{const e=parseFloat(t.coins)-a,n=(new Date).toUTCString(),o="".concat(t.coins,"-").concat(a,"=").concat(e,"_Gen_V1_IOS_").concat(n);null===e&&void 0===e||(await(0,f.TK)({id:s.id,coins:e<0?0:e,updatedAt:o}),I({...s,coins:e<0?0:e}))}}else e(-1)}catch(i){console.log("Error ",i),_(!1)}},Z=(0,n.useCallback)((async()=>{}),[]);return(0,w.jsxs)(i.az,{children:[(0,w.jsxs)(o.mg,{children:[(0,w.jsx)("title",{children:"Gen Artistic"}),(0,w.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,w.jsx)(c.B,{h:"100vh",w:k,py:20,px:2,justifyContent:"center",children:(0,w.jsx)(c.B,{spacing:4,children:K&&(0,w.jsx)(y.n,{uri:K},K)})}),(0,w.jsx)(c.B,{spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,w.jsxs)(l.z,{spacing:2,children:[(0,w.jsx)(r.$,{py:4,mx:2,my:4,colorScheme:"purple",borderRadius:"full",onClick:Z,leftIcon:(0,w.jsx)(d.I,{as:S.aO_}),flex:1,children:(0,w.jsx)(l.z,{children:(0,w.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Re-Create"})})}),(0,w.jsx)(r.$,{py:4,mx:2,my:4,colorScheme:"blue",borderRadius:"full",onClick:Z,leftIcon:(0,w.jsx)(d.I,{as:g.gWm}),flex:1,children:(0,w.jsx)(l.z,{children:(0,w.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Save"})})})]})}),(0,w.jsx)(h.a,{isOpen:F})]})}},7385:(e,t,s)=>{s.d(t,{RZ:()=>o,Sk:()=>a,yy:()=>n});const n=e=>new Promise((t=>setTimeout(t,e))),o=e=>{let{min:t,max:s}=e;return Math.floor(Math.random()*(s-t+1))+t},a=e=>new Promise(((t,s)=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsDataURL(e)}))}}]);