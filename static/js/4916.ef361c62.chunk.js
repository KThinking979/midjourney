"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[4916],{1940:(e,t,i)=>{i.d(t,{Kc:()=>s,MF:()=>a,ay:()=>r,nn:()=>o});var n=i(4451);const a=(0,n.j)((()=>i.e(465).then(i.bind(i,465))),(e=>e.ImageFast)),o=(0,n.j)((()=>i.e(9606).then(i.bind(i,9606))),(e=>e.ImageSkeleton)),s=(0,n.j)((()=>i.e(2613).then(i.bind(i,2613))),(e=>e.ImageSkeletonShow)),r=(0,n.j)((()=>i.e(8977).then(i.bind(i,8977))),(e=>e.ImageSkeletonFace))},4916:(e,t,i)=>{i.r(t),i.d(t,{DashBoardPage:()=>k});var n=i(9950),a=i(6455),o=i(4466),s=i(3247),r=i(1389),c=i(2481),l=i(393),m=i(1317),d=i(3056),p=i(4418),h=i(327),x=i(1912),g=i(2423),u=i(6365),S=i(2935),f=i(7738),I=i(917),j=i(5236),w=i(712),A=i(7385),E=i(6256),C=i(1940),_=i(4456),T=i(3564),b=i(8412),y=i(9949),v=i(8741),W=i(4414);let L=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const F=[{mode:_.g.TEXT_ARTISTIC,path:b.W.TEXT_ARTISTIC,title:"Text Artistic",icon:h.P9_,emoji:""},{mode:_.g.IMAGE_ARTISTIC,path:b.W.IMAGE_ARTISTIC,title:"Image Artistic",icon:x.hjn,emoji:""},{mode:_.g.SD3_SUPPER,path:b.W.SD3_SUPPER,title:"SD3 Supper",icon:g.$iZ,emoji:""},{mode:_.g.ILLUSION,path:b.W.ILLUSION,title:"Illusion",icon:f.HY1,emoji:""},{mode:_.g.FACE_SWAP,path:b.W.FACE_SWAP,title:"FaceSwap",icon:u.yOh,emoji:""},{mode:_.g.UPSCALE,path:b.W.UPSCALE,title:"Upscale",icon:y.Uf2,emoji:""},{mode:_.g.FACE_STICKER,path:b.W.FACE_STICKER,title:"Face Sticker",icon:S.jg2,emoji:""},{mode:_.g.TEXT_ANIME,path:b.W.TEXT_ANIME,title:"Text Anime",icon:I.ZQS,emoji:""},{mode:_.g.IMAGE_ANIME,path:b.W.IMAGE_ANIME,title:"Image Anime",icon:f.a6J,emoji:""},{mode:_.g.VIDEO_ANIME,path:b.W.VIDEO_ANIME,title:"Video Anime",icon:h.Am_,emoji:""}],k=()=>{const e=(0,T.Zp)(),{user:t,configs:i}=(0,n.useContext)(j.rf),{setUser:h,setConfigs:x,setListAIStyleAll:g}=(0,n.useContext)(j.D8),{isOpen:u,onToggle:S}=(0,o.j)(),[f,I]=(0,n.useState)(!0),[_,y]=(0,n.useState)(!1),[k,M]=(0,n.useState)(!0),[P,z]=(0,n.useState)(0),[R,D]=(0,n.useState)([]),[H,K]=(0,n.useState)([]),U=async e=>{let{isFirst:t,_textKey:n,_cursor:a}=e;if(!_&&a<=i.limitSearch){y(!0);let e=await(0,w.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:n,cursor:a});if(e&&e.prompts&&0===e.prompts.length&&(e=await(0,w.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:n,cursor:a})),e&&e.prompts&&0===e.prompts.length&&(e=await(0,w.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:n,cursor:a})),e&&e.prompts&&0===e.prompts.length&&(e=await(0,w.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:n,cursor:a})),e&&e.prompts&&e.prompts.length){const{prompts:t}=e,n=[];for(let e=0;e<t.length;e++){const a=t[e];n.push({id:a.id,textKey:a.prompt,negativeKey:a.negativePrompt?a.negativePrompt:"",uri:a.images.length?"".concat(i.lexicaImageSm2,"/").concat(a.images[0].id):"",width:a.width,height:a.height,isLast:e===t.length-1?R.length+t.length:0})}D([...R,...n]),z(a+50),a+50===i.limitSearch&&M(!1)}else D([]);!f&&await(0,A.yy)(1e3),y(!1)}};(0,n.useEffect)((()=>{(async()=>{await U({isFirst:!1,_textKey:"",_cursor:0})})(),(async()=>{var e;const n=await(0,w.Y_)();x(n);const a=await(0,w.Vo)();g(a);const o=[];F.forEach((e=>{n&&n.MODES&&n.MODES.find((t=>t===e.mode))&&o.push(e)})),K(o);const s=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(s&&!t){s.ready();const e=s.initDataUnsafe.user;if(e){let t={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:i.initCoin?i.initCoin:0};const n=await(0,w.wz)(t.id);n?t={...n,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,w.kg)(t),h(t)}}if(n.isTest){let e={id:"0",username:"Kai Test",coins:100};const t=await(0,w.wz)(e.id);t?e={...t}:await(0,w.kg)(e),h(e)}})()}),[]);const O=(0,n.useCallback)((async()=>{const{scrollTop:e,scrollHeight:t,clientHeight:i}=document.documentElement;e+i>=t-.5&&await U({isFirst:!1,_textKey:"",_cursor:0})}),[R]);(0,n.useEffect)((()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O))),[O]);const N=(0,n.useCallback)((async t=>{e(t.path)}),[]);return(0,W.jsxs)(s.az,{children:[(0,W.jsxs)(a.mg,{children:[(0,W.jsx)("title",{children:"Dashboard"}),(0,W.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,W.jsxs)(r.B,{h:"100vh",w:L,py:20,px:2,spacing:10,children:[(0,W.jsxs)(r.B,{borderRadius:8,py:2,spacing:5,children:[(0,W.jsx)(c.x,{templateColumns:"repeat(3, 1fr)",gap:5,children:H.filter(((e,t)=>t<6)).map((e=>(0,W.jsxs)(r.B,{flex:1,alignItems:"center",justifyContent:"center",borderColor:"#818cf8",borderWidth:2,borderRadius:8,bg:"transparent",minW:20,minH:20,spacing:2,_active:{bg:"blue.500"},onClick:()=>N(e),children:[(0,W.jsx)(l.I,{color:"white",as:e.icon,boxSize:8}),(0,W.jsx)(m.E,{textAlign:"center",color:"white",fontSize:14,children:e.title})]},e.mode)))}),(0,W.jsx)(d.S,{in:u,animateOpacity:!0,children:(0,W.jsx)(c.x,{templateColumns:"repeat(3, 1fr)",gap:5,children:H.filter(((e,t)=>t>=6)).map((e=>(0,W.jsxs)(r.B,{flex:1,alignItems:"center",justifyContent:"center",borderColor:"#818cf8",borderWidth:2,borderRadius:8,bg:"transparent",minW:20,minH:20,spacing:2,_active:{bg:"blue.500"},onClick:()=>N(e),children:[(0,W.jsx)(l.I,{color:"white",as:e.icon,boxSize:8}),(0,W.jsx)(m.E,{textAlign:"center",color:"white",fontSize:14,children:e.title})]},e.mode)))})}),(0,W.jsx)(p.z,{w:"full",alignItems:"center",justifyContent:"center",display:H.length>6?"flex":"none",children:(0,W.jsx)(l.I,{as:u?v.oSv:v.fwg,boxSize:6,color:"#818cf8",zIndex:999,onClick:S})})]}),(0,W.jsxs)(r.B,{padding:0,pb:40,onScroll:O,children:[(0,W.jsx)(p.z,{spacing:2,children:(0,W.jsx)(m.E,{color:"white",fontSize:16,fontWeight:"700",children:"\ud83c\udfa8 Artistic Key"})}),(0,W.jsx)(E.A,{columnsCount:2,gutter:"16px",children:R.map(((t,i)=>{const{id:n,uri:a}=t;return(0,W.jsx)(C.MF,{uri:a,onPress:()=>{e(b.W.TEXT_ARTISTIC,{state:{dataAI:t}})}},i)}))})]})]})]})}}}]);