"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[589],{1940:(e,t,s)=>{s.d(t,{Kc:()=>a,MF:()=>n,nn:()=>o});var i=s(4451);const n=(0,i.j)((()=>s.e(465).then(s.bind(s,465))),(e=>e.ImageFast)),o=(0,i.j)((()=>s.e(606).then(s.bind(s,9606))),(e=>e.ImageSkeleton)),a=(0,i.j)((()=>s.e(613).then(s.bind(s,2613))),(e=>e.ImageSkeletonShow))},3246:(e,t,s)=>{s.d(t,{a:()=>n});var i=s(4451);const n=(0,i.j)((()=>Promise.all([s.e(545),s.e(825)]).then(s.bind(s,825))),(e=>e.ModalLoading));(0,i.j)((()=>Promise.all([s.e(226),s.e(96),s.e(291),s.e(545),s.e(712),s.e(647)]).then(s.bind(s,7647))),(e=>e.ModalPayment))},1589:(e,t,s)=>{s.r(t),s.d(t,{GenArtisticPage:()=>K});var i=s(9950),n=s(6455),o=s(2099),a=s(3247),c=s(1389),r=s(2481),l=s(4418),d=s(1374),h=s(393),u=s(1317),x=s(5236),j=s(3564),g=s(3246),p=s(712),m=s(4456),f=s(7385),w=s(7956),y=s(1940),S=s(9591),C=s(5495),A=s(9703),b=s(6365),k=s(327),I=s(4414);const z=e=>{let{isOpen:t,onPressPay:s,onPressAds:n,onClose:o}=e;const{user:a,configs:r}=(0,i.useContext)(x.rf),{setUser:j}=(0,i.useContext)(x.D8),[g,m]=(0,i.useState)(a&&a.numAdsGen?a.numAdsGen:1);return(0,I.jsxs)(A.q,{direction:"bottom",in:t,style:{zIndex:1e3,height:"100%",flex:1},children:[(0,I.jsx)(c.B,{onClick:()=>o&&o(),h:"70%",opacity:.8,backgroundColor:"black"}),(0,I.jsxs)(c.B,{h:"30%",padding:2,spacing:4,backgroundColor:"gray.800",justifyContent:"center",children:[(0,I.jsx)(d.$,{colorScheme:"green",borderRadius:"full",size:"md",onClick:()=>s&&s(),leftIcon:(0,I.jsx)(h.I,{as:b.jXZ,boxSize:6}),children:(0,I.jsx)(l.z,{children:(0,I.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Buy Coins"})})}),(0,I.jsx)(u.E,{color:"white",fontSize:14,textAlign:"center",children:"Or"}),(0,I.jsx)(d.$,{colorScheme:"red",size:"md",borderRadius:"full",onClick:async()=>{const e=Object.keys(r.ADS).length,t=g<=e?r.ADS["".concat(g)]:r.ADS["".concat(g%e===0?e:g%e)];window.Adsgram.init({blockId:t}).show().then((e=>{let t=g+1;(0,p.TK)({id:a.id,numAdsGen:t}),j({...a,numAdsGen:t}),m(t),n&&n()})).catch((e=>{console.log("result ",e)}))},leftIcon:(0,I.jsx)(h.I,{as:k.I1Q,boxSize:6}),children:(0,I.jsx)(l.z,{children:(0,I.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Watch Ads"})})})]})]})};var P=s(8412);let v=window.innerWidth>500?500:window.innerWidth,F=!1;const K=()=>{const e=(0,j.Zp)(),t=(0,o.d)(),s=(0,j.zy)(),{user:A,configs:b,listAIStyleAll:k}=(0,i.useContext)(x.rf),{setUser:K}=(0,i.useContext)(x.D8),[W,E]=(0,i.useState)(!1),[B,D]=(0,i.useState)(!1),[G,R]=(0,i.useState)(!1),[_,T]=(0,i.useState)(!1),[M,O]=(0,i.useState)(!1),[U,Z]=(0,i.useState)(!1),[$,N]=(0,i.useState)(!1),[V,L]=(0,i.useState)(),[Y,q]=(0,i.useState)(""),[H,Q]=(0,i.useState)(""),[X,J]=(0,i.useState)(""),[ee,te]=(0,i.useState)(""),[se,ie]=(0,i.useState)("");(0,i.useEffect)((()=>{window.scrollTo(0,0);const e=s.state;A&&e&&e.dataAI&&ne({isFree:e.dataAI.isFree})}),[]);const ne=async t=>{let i,{isFree:n}=t;F=!1;let o=0;try{const t=s.state;if(A&&t&&t.dataAI){const e=t.dataAI,s=A;E(!0),R(!1),L(e),q(""),Q(""),J(""),te(""),ie("");const n=e.style?e.style.key:"";let a="".concat(n.replace("{prompt}",e.prompt));const c=e.style?e.style.negativeKey:"",r="".concat(e.negativeKey," ").concat(c);if((e.isFree||!e.isFree&&parseFloat(s.coins)>=parseFloat(e.feeCoin))&&e.type===m.Wk.GEN)for(let t=0;t<e.samples&&!F;t++){let s=e.seed;if(-1===e.seed&&(s=(0,f.RZ)({min:0,max:m.Vm})),e.type===m.Wk.GEN&&"ProGen"===e.model){b.token,b.server;i={data:m.EW,isSuccess:!0},await(0,f.yy)(3e3)}if(i&&!i.error){if(0===t&&q(i.data),4===e.samples)switch(t){case 0:Q(i.data);break;case 1:J(i.data);break;case 2:te(i.data);break;case 3:ie(i.data)}i.isSuccess&&(o+=parseFloat(e.feeCoin)/e.samples)}}if(E(!1),e.isFree){const t=(new Date).toUTCString(),s="".concat(A.dateAds,"_").concat(e.mode,"_ADS_V1_").concat(t);(0,p.TK)({id:A.id,updatedAt:s})}else{const e=parseFloat(s.coins)-o,t=(new Date).toUTCString(),i="".concat(s.coins,"-").concat(o,"=").concat(e,"_Gen_V1_IOS_").concat(t);null===e&&void 0===e||(await(0,p.TK)({id:A.id,coins:e<0?0:e,updatedAt:i}),K({...A,coins:e<0?0:e}))}R(!0)}else e(-1)}catch(a){console.log("Error ",a),E(!1)}},oe=(0,i.useCallback)((async()=>{A&&(parseFloat(A.coins),parseFloat(V.feeCoin),T(!0))}),[A,V]),ae=(0,i.useCallback)((async()=>{if(!A)return;console.log("Start"),E(!0);const e=(0,w.A)(),s=await(0,p.jH)({data:Y,folder:"albums",name:e}),i={id:e,type:V.type,isImage:!0,prompt:V.prompt,negative:V.negative,style:V.style.title,width:V.width,height:V.height,steps:V.steps,scale:V.scale,uri:s};await(0,p.Y4)({id:A.id,data:i}),t({title:"Saved",status:"success",position:"top",isClosable:!0}),E(!1),console.log("Done")}),[V,Y]),ce=v;return(0,I.jsxs)(a.az,{children:[(0,I.jsxs)(n.mg,{children:[(0,I.jsx)("title",{children:"Gen Artistic"}),(0,I.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,I.jsxs)(c.B,{h:"100vh",w:v,pt:20,px:2,justifyContent:"space-between",children:[V&&1===V.samples&&(0,I.jsx)(c.B,{flex:1,justifyContent:"center",children:(0,I.jsx)(y.Kc,{uri:Y,width:v,height:v/(V.width/V.height)},Y)}),V&&4===V.samples&&!G&&(0,I.jsx)(c.B,{flex:1,justifyContent:"center",children:(0,I.jsxs)(r.x,{templateColumns:"repeat(2, 1fr)",gap:6,children:[(0,I.jsx)(y.Kc,{uri:H,width:ce/2,height:ce/(V.width/V.height)/2},1),(0,I.jsx)(y.Kc,{uri:X,width:ce/2,height:ce/(V.width/V.height)/2},2),(0,I.jsx)(y.Kc,{uri:ee,width:ce/2,height:ce/(V.width/V.height)/2},3),(0,I.jsx)(y.Kc,{uri:se,width:ce/2,height:ce/(V.width/V.height)/2},4)]})}),V&&4===V.samples&&G&&(0,I.jsx)(c.B,{flex:1,justifyContent:"center",children:(0,I.jsxs)(l.z,{spacing:1,children:[(0,I.jsx)(c.B,{w:"10%",children:(0,I.jsxs)(r.x,{templateColumns:"repeat(1, 1fr)",gap:6,children:[(0,I.jsx)(y.Kc,{isActive:Y===H,uri:H,width:.2*ce/2,height:.2*ce/(V.width/V.height)/2,onPress:()=>{q(H)}},1),(0,I.jsx)(y.Kc,{isActive:Y===X,uri:X,width:.2*ce/2,height:.2*ce/(V.width/V.height)/2,onPress:()=>{q(X)}},2),(0,I.jsx)(y.Kc,{isActive:Y===ee,uri:ee,width:.2*ce/2,height:.2*ce/(V.width/V.height)/2,onPress:()=>{q(ee)}},3),(0,I.jsx)(y.Kc,{isActive:Y===se,uri:se,width:.2*ce/2,height:.2*ce/(V.width/V.height)/2,onPress:()=>{q(se)}},4)]})}),(0,I.jsx)(c.B,{w:"90%",children:(0,I.jsx)(y.Kc,{uri:Y,width:.8*ce,height:.8*ce/(V.width/V.height)},Y)})]})}),(0,I.jsx)(c.B,{spacing:4,justifyContent:"center",w:"full",backgroundColor:"black",maxW:"500px",children:(0,I.jsxs)(l.z,{spacing:2,children:[(0,I.jsx)(d.$,{py:4,my:4,colorScheme:"purple",borderRadius:"full",onClick:oe,leftIcon:(0,I.jsx)(h.I,{as:S.aO_}),flex:1,children:(0,I.jsx)(l.z,{children:(0,I.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Re-Create"})})}),(0,I.jsx)(d.$,{flex:1,py:4,mx:2,my:4,colorScheme:"blue",borderRadius:"full",onClick:ae,leftIcon:(0,I.jsx)(h.I,{as:C.gWm}),children:(0,I.jsx)(l.z,{children:(0,I.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Save"})})})]})})]}),(0,I.jsx)(z,{isOpen:_,onClose:()=>T(!_),onPressPay:()=>{T(!1),e(P.W.PAYMENT)},onPressAds:()=>{T(!1),ne({isFree:!1})}}),(0,I.jsx)(g.a,{isOpen:W})]})}},7385:(e,t,s)=>{s.d(t,{RZ:()=>n,Sk:()=>o,yy:()=>i});const i=e=>new Promise((t=>setTimeout(t,e))),n=e=>{let{min:t,max:s}=e;return Math.floor(Math.random()*(s-t+1))+t},o=e=>new Promise(((t,s)=>{const i=new FileReader;i.onloadend=()=>t(i.result),i.readAsDataURL(e)}))}}]);