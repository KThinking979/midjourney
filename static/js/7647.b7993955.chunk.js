"use strict";(self.webpackChunkmidjourney=self.webpackChunkmidjourney||[]).push([[7647,825],{825:(e,o,n)=>{n.r(o),n.d(o,{ModalLoading:()=>d});n(9950);var s=n(4521),t=n(2463),i=n(2505),c=n(4787),r=n(1389),a=n(3927),l=n(4414);const d=e=>{let{isOpen:o,onClose:n}=e;return(0,l.jsxs)(s.aF,{onClose:n,isOpen:o,size:"full",children:[(0,l.jsx)(t.m,{}),(0,l.jsx)(i.$,{backgroundColor:"transparent",children:(0,l.jsx)(c.c,{children:(0,l.jsx)(r.B,{h:"100vh",pb:10,alignItems:"center",justifyContent:"space-around",children:(0,l.jsx)(a.A,{color:"white",loading:!0,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})})})})]})}},7647:(e,o,n)=>{n.r(o),n.d(o,{ModalPayment:()=>E});var s=n(9950),t=n(2099),i=n(4521),c=n(2463),r=n(2505),a=n(4787),l=n(3247),d=n(4418),x=n(393),u=n(1389),h=n(1317),p=n(6086),j=n(6569),b=n(1374),f=n(2119),g=n(712),C=n(4456),z=n(2691),m=n(2875),w=n(2096),k=n(5495),y=n(6742),S=n(6451),I=n(5236),B=n(825),P=n(4414);window.innerWidth>500||window.innerWidth;const E=e=>{let{isOpen:o,onClose:E}=e;const{t:F}=(0,y.B)(),{user:v,configs:W}=(0,s.useContext)(I.rf),{setUser:A}=(0,s.useContext)(I.D8),$=(0,t.d)(),[_,O]=(0,s.useState)(!1),[L,H]=(0,s.useState)(W&&W.package?W.package[0]:C.Hy[0]),[M,N]=(0,s.useState)(W&&W.package?W.package:C.Hy);return(0,P.jsxs)(i.aF,{onClose:E,isOpen:o,size:"full",children:[(0,P.jsx)(c.m,{backgroundColor:"black"}),(0,P.jsx)(r.$,{zIndex:9999,backgroundColor:"black",children:(0,P.jsxs)(a.c,{backgroundColor:"black",p:0,children:[(0,P.jsx)(l.az,{transition:"0.9s ease",pos:"fixed",top:0,w:"full",zIndex:999,children:(0,P.jsxs)(d.z,{flex:1,p:2,justifyContent:"space-between",w:"full",minH:"40px",children:[(0,P.jsx)(x.I,{as:k.$8F,boxSize:7,padding:0,color:"red.500",zIndex:999,onClick:()=>{E&&E()}}),(0,P.jsx)(u.B,{})]})}),(0,P.jsx)(u.B,{h:"100vh",px:2,pt:10,backgroundColor:"black",children:(0,P.jsxs)(u.B,{flex:1,spacing:4,pb:28,children:[(0,P.jsxs)(u.B,{justifyContent:"center",alignItems:"center",children:[(0,P.jsx)(h.E,{color:"white",fontSize:18,fontWeight:"bold",children:F(S.P.account.purchase_coins)}),(0,P.jsx)(h.E,{color:"white",fontSize:14,children:F(S.P.account.des_purchase_coins)})]}),(0,P.jsx)(u.B,{children:M.map((e=>{const{id:o,coins:s,cost:t,disCost:i,description1:c}=e,r=s/(W&&W.feeBasic?W.feeBasic:.2),a=o===L.id;return(0,P.jsx)(u.B,{spacing:4,borderRadius:8,borderColor:a?"blue.400":"gray.500",borderWidth:a?2:1,px:2,py:4,onClick:()=>{H(e)},children:(0,P.jsxs)(d.z,{spacing:2,justifyContent:"space-between",children:[(0,P.jsxs)(u.B,{spacing:2,children:[(0,P.jsxs)(d.z,{children:[(0,P.jsx)(x.I,{color:"blue.400",as:w.dA7,boxSize:6}),(0,P.jsx)(h.E,{color:"white",fontSize:14,children:(new Intl.NumberFormat).format(s)}),(0,P.jsx)(p.o,{children:(0,P.jsx)(j._,{boxSize:"18px",src:n(2975),alt:"card"})}),(0,P.jsx)(h.E,{color:"white",fontSize:14,children:F(S.P.account.coins)})]}),(0,P.jsxs)(d.z,{children:[(0,P.jsx)(x.I,{color:"blue.400",as:w.dA7,boxSize:6}),(0,P.jsx)(h.E,{color:"white",fontSize:14,children:"".concat((new Intl.NumberFormat).format(r)," ").concat(F(S.P.account.description1))})]}),i&&(0,P.jsxs)(d.z,{children:[(0,P.jsx)(x.I,{color:"blue.400",as:w.dA7,boxSize:6}),(0,P.jsx)(h.E,{color:"red.400",fontSize:14,children:"".concat(F(S.P.account.save)," ").concat(((i-t)/i*100).toFixed(2),"%")})]})]}),(0,P.jsxs)(u.B,{alignItems:"center",justifyContent:"center",spacing:"2px",children:[(0,P.jsx)(h.E,{color:"white",fontSize:18,fontWeight:"700",children:"$".concat(t)}),i&&(0,P.jsx)(h.E,{as:"s",color:"gray",fontSize:17,children:"$".concat(i)})]})]})},o)}))})]})}),(0,P.jsx)(u.B,{pb:2,spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,P.jsx)(b.$,{maxWidth:"500px",py:4,mx:2,my:4,colorScheme:"green",borderRadius:"full",onClick:async()=>{try{O(!0);const e=new z.cC(W.tokenApp),o=L.title,n=L.title,s="{}",t="XTR",i=[{amount:L.star,label:L.title}],c=await e.api.createInvoiceLink(o,n,s,"",t,i);let r=L.coins;e.on("pre_checkout_query",(e=>e.answerPreCheckoutQuery(!0).catch((()=>{console.log("answerPreCheckoutQuery failed")})))),f.A.openInvoice(c,(async e=>{if("paid"===e){const e=parseFloat(v.coins+L.coins);await(0,g.bF)({id:v.id,coins:e,transactionId:r}),A({...v,coins:e}),O(!1),$({title:"Success Purchase",status:"success",position:"bottom",isClosable:!0,duration:2e3}),E&&E()}else O(!1),E&&E(),$({title:"Fail Purchase",status:"error",position:"bottom",isClosable:!0,duration:2e3})})),e.start()}catch(e){console.log("Error ",e),O(!1),E&&E(),$({title:"Fail Purchase",status:"error",position:"bottom",isClosable:!0,duration:2e3})}},children:(0,P.jsxs)(d.z,{children:[(0,P.jsx)(h.E,{color:"white",fontSize:16,fontWeight:"700",children:F(S.P.account.payment)}),(0,P.jsx)(h.E,{color:"white",fontSize:16,children:(new Intl.NumberFormat).format(L.star)}),(0,P.jsx)(x.I,{color:"yellow.400",as:m.gt3,boxSize:5})]})})}),(0,P.jsx)(B.ModalLoading,{isOpen:_})]})})]})}}}]);