"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[895],{1940:(e,t,i)=>{i.d(t,{Kc:()=>o,MF:()=>n,nn:()=>a});var s=i(4451);const n=(0,s.j)((()=>i.e(465).then(i.bind(i,465))),(e=>e.ImageFast)),a=(0,s.j)((()=>i.e(606).then(i.bind(i,9606))),(e=>e.ImageSkeleton)),o=(0,s.j)((()=>i.e(613).then(i.bind(i,2613))),(e=>e.ImageSkeletonShow))},897:(e,t,i)=>{i.r(t),i.d(t,{SlideAds:()=>g});var s=i(9950),n=i(9703),a=i(1389),o=i(1317),r=i(1374),c=i(393),l=i(4418),d=i(6365),h=i(327),x=i(712),u=i(5236),p=i(4414);const g=e=>{let{isOpen:t,isAds:i=!0,onPressPay:g,onPressAds:f,onClose:j}=e;const{user:w,configs:y}=(0,s.useContext)(u.rf),{setUser:m}=(0,s.useContext)(u.D8),[S,A]=(0,s.useState)(w&&w.numAdsGen?w.numAdsGen:1);(0,s.useEffect)((()=>{C()}),[]);const C=async()=>{if(y&&w){const e=parseInt((new Date).toISOString().slice(0,10).replace("-","").replace("-",""));e>w.expDateAdsGen&&(A(1),m({...w,numAdsGen:1,expDateAdsGen:e}),(0,x.TK)({id:w.id,numAdsGen:1,expDateAdsGen:e}))}};return(0,p.jsxs)(n.q,{direction:"bottom",in:t,style:{zIndex:1e3,height:"100%",flex:1},children:[(0,p.jsx)(a.B,{onClick:()=>j&&j(),h:"70%",opacity:.8,backgroundColor:"black"}),(0,p.jsxs)(a.B,{h:"30%",padding:2,spacing:4,backgroundColor:"gray.800",justifyContent:"center",children:[(0,p.jsxs)(a.B,{spacing:1,mb:4,children:[(0,p.jsx)(o.E,{textAlign:"center",fontWeight:"bold",fontSize:"16px",color:"white",children:"notEnoughCoins"}),(0,p.jsx)(o.E,{textAlign:"center",fontSize:"14px",color:"gray.400",children:"pleaseBuyMoreCoinToCreate"})]}),(0,p.jsx)(r.$,{colorScheme:"green",borderRadius:"full",size:"md",onClick:()=>g&&g(),leftIcon:(0,p.jsx)(c.I,{as:d.jXZ,boxSize:6}),children:(0,p.jsx)(l.z,{children:(0,p.jsx)(o.E,{color:"white",fontSize:16,fontWeight:"700",children:"Buy Coins"})})}),(0,p.jsx)(o.E,{display:i?"block":"none",color:"white",fontSize:14,textAlign:"center",children:"Or"}),(0,p.jsxs)(a.B,{display:i?"flex":"none",children:[(0,p.jsx)(r.$,{colorScheme:"red",size:"md",borderRadius:"full",onClick:async()=>{const e=Object.keys(y.ADS).length,t=S<=e?y.ADS["".concat(S)]:y.ADS["".concat(S%e===0?e:S%e)];window.Adsgram.init({blockId:t}).show().then((e=>{let t=S+1;(0,x.TK)({id:w.id,numAdsGen:t}),m({...w,numAdsGen:t}),A(t),f&&f()})).catch((e=>{console.log("result ",e)}))},leftIcon:(0,p.jsx)(c.I,{as:h.I1Q,boxSize:6}),isDisabled:!!(y&&y.limitAdsGen<=S),children:(0,p.jsx)(o.E,{color:"white",fontSize:16,fontWeight:"700",children:"Watch Ads"})}),(0,p.jsx)(o.E,{textAlign:"center",fontSize:"14px",color:"gray.300",children:y&&y.limitAdsGen<=S?"availableTomorrow":"withDefaultSetting"})]})]})]})}},6895:(e,t,i)=>{i.r(t),i.d(t,{GenArtisticPage:()=>I});var s=i(9950),n=i(6455),a=i(2099),o=i(3247),r=i(1389),c=i(2481),l=i(4418),d=i(1374),h=i(393),x=i(1317),u=i(5236),p=i(3564),g=i(3246),f=i(712),j=i(4456),w=i(7385),y=i(7956),m=i(1940),S=i(9591),A=i(5495),C=i(897),b=i(8412),v=i(4414);let k=window.innerWidth>500?500:window.innerWidth,E=!1;const I=()=>{const e=(0,p.Zp)(),t=(0,a.d)(),i=(0,p.zy)(),{user:I,configs:z}=(0,s.useContext)(u.rf),{setUser:G}=(0,s.useContext)(u.D8),[K,P]=(0,s.useState)(!1),[W,B]=(0,s.useState)(!1),[D,T]=(0,s.useState)(!1),[F,O]=(0,s.useState)(),[N,_]=(0,s.useState)(""),[R,Q]=(0,s.useState)(""),[U,M]=(0,s.useState)(""),[$,J]=(0,s.useState)(""),[V,Z]=(0,s.useState)("");(0,s.useEffect)((()=>{window.scrollTo(0,0);const e=i.state;I&&e&&e.dataAI&&q({isFree:e.dataAI.isFree})}),[]);const q=async t=>{let s,{isFree:n}=t;E=!1;let a=0;try{const t=i.state;if(I&&t&&t.dataAI){const e=t.dataAI,i=I;P(!0),B(!1),O(e),_(""),Q(""),M(""),J(""),Z("");const o=e.style?e.style.key:"";let r="".concat(o.replace("{prompt}",e.prompt));const c=e.style?e.style.negativeKey:"",l="".concat(e.negativeKey," ").concat(c);if((n||!n&&parseFloat(i.coins)>=parseFloat(e.feeCoin))&&e.type===j.Wk.GEN)for(let t=0;t<e.samples&&!E;t++){let i=e.seed;if(-1===e.seed&&(i=(0,w.RZ)({min:0,max:j.Vm})),e.type===j.Wk.GEN&&"ProGen"===e.model){e.style.stylePreset,z.token,z.server;s={data:j.EW,isSuccess:!0},await(0,w.yy)(3e3)}if(e.type===j.Wk.GEN&&"ProGen"!==e.model){const t={...e,seed:i,steps:20*e.steps/30,width:e.width,height:e.height,textKey:r,negativeKey:l,token:z.tokenNov,server:z.serverNov};s=e.isText?await(0,f.Ip)(t):await(0,f.EQ)(t),!s.error&&s.isSuccess||(await(0,w.yy)(1e3),s=e.isText?await(0,f.Ip)(t):await(0,f.EQ)(t)),!s.error&&s.isSuccess||(await(0,w.yy)(1e3),s=e.isText?await(0,f.Ip)(t):await(0,f.EQ)(t)),!s.error&&s.isSuccess||(await(0,w.yy)(1e3),s=e.isText?await(0,f.Ip)(t):await(0,f.EQ)(t))}if(s&&!s.error){if(0===t&&_(s.data),4===e.samples)switch(t){case 0:Q(s.data);break;case 1:M(s.data);break;case 2:J(s.data);break;case 3:Z(s.data)}s.isSuccess&&(a+=parseFloat(e.feeCoin)/e.samples)}}if(P(!1),n){const t=(new Date).toUTCString(),i="".concat(I.dateAds,"_").concat(e.mode,"_ADS_V1_").concat(t);(0,f.TK)({id:I.id,updatedAt:i})}else{const e=parseFloat(i.coins)-a,t=(new Date).toUTCString(),s="".concat(i.coins,"-").concat(a,"=").concat(e,"_Gen_V1_IOS_").concat(t);null===e&&void 0===e||(await(0,f.TK)({id:I.id,coins:e<0?0:e,updatedAt:s}),G({...I,coins:e<0?0:e}))}B(!0)}else e(-1)}catch(o){console.log("Error ",o),P(!1)}},Y=(0,s.useCallback)((async()=>{I&&(parseFloat(I.coins)>=parseFloat(F.feeCoin)?q({isFree:!1}):T(!0))}),[I,F]),H=(0,s.useCallback)((async()=>{if(I)try{P(!0);const e=(0,y.A)(),i=await(0,f.jH)({data:N,folder:"albums",name:e,isUrl:!!N.includes("http")}),s={id:e,type:F.type,isImage:!0,prompt:F.prompt,negative:F.negative,style:F.style.title,width:F.width,height:F.height,steps:F.steps,scale:F.scale,uri:i};await(0,f.Y4)({id:I.id,data:s}),t({title:"Saved",status:"success",position:"top",isClosable:!0}),P(!1)}catch(e){P(!1)}}),[F,N]),X=k;return(0,v.jsxs)(o.az,{children:[(0,v.jsxs)(n.mg,{children:[(0,v.jsx)("title",{children:"Gen Artistic"}),(0,v.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,v.jsxs)(r.B,{h:"100vh",w:k,pt:20,px:2,justifyContent:"space-between",children:[(0,v.jsxs)(r.B,{flex:1,children:[F&&1===F.samples&&(0,v.jsx)(r.B,{flex:1,justifyContent:"center",children:(0,v.jsx)(m.Kc,{uri:N,width:k,height:k/(F.width/F.height)},N)}),F&&4===F.samples&&!W&&(0,v.jsx)(r.B,{flex:1,justifyContent:"center",children:(0,v.jsxs)(c.x,{templateColumns:"repeat(2, 1fr)",gap:6,children:[(0,v.jsx)(m.Kc,{uri:R,width:X/2,height:X/(F.width/F.height)/2},1),(0,v.jsx)(m.Kc,{uri:U,width:X/2,height:X/(F.width/F.height)/2},2),(0,v.jsx)(m.Kc,{uri:$,width:X/2,height:X/(F.width/F.height)/2},3),(0,v.jsx)(m.Kc,{uri:V,width:X/2,height:X/(F.width/F.height)/2},4)]})}),F&&4===F.samples&&W&&(0,v.jsx)(r.B,{flex:1,justifyContent:"center",children:(0,v.jsxs)(l.z,{spacing:1,children:[(0,v.jsx)(r.B,{w:"10%",children:(0,v.jsxs)(c.x,{templateColumns:"repeat(1, 1fr)",gap:6,children:[(0,v.jsx)(m.Kc,{isActive:N===R,uri:R,width:.2*X/2,height:.2*X/(F.width/F.height)/2,onPress:()=>{_(R)}},1),(0,v.jsx)(m.Kc,{isActive:N===U,uri:U,width:.2*X/2,height:.2*X/(F.width/F.height)/2,onPress:()=>{_(U)}},2),(0,v.jsx)(m.Kc,{isActive:N===$,uri:$,width:.2*X/2,height:.2*X/(F.width/F.height)/2,onPress:()=>{_($)}},3),(0,v.jsx)(m.Kc,{isActive:N===V,uri:V,width:.2*X/2,height:.2*X/(F.width/F.height)/2,onPress:()=>{_(V)}},4)]})}),(0,v.jsx)(r.B,{w:"90%",children:(0,v.jsx)(m.Kc,{uri:N,width:.8*X,height:.8*X/(F.width/F.height)},N)})]})})]}),(0,v.jsx)(r.B,{spacing:4,justifyContent:"center",w:"full",backgroundColor:"black",maxW:"500px",children:(0,v.jsxs)(l.z,{spacing:2,children:[(0,v.jsx)(d.$,{py:4,my:4,colorScheme:"purple",borderRadius:"full",onClick:Y,leftIcon:(0,v.jsx)(h.I,{as:S.aO_}),flex:1,children:(0,v.jsx)(l.z,{children:(0,v.jsx)(x.E,{color:"white",fontSize:16,fontWeight:"700",children:"Re-Create"})})}),(0,v.jsx)(d.$,{flex:1,py:4,mx:2,my:4,colorScheme:"blue",borderRadius:"full",onClick:H,leftIcon:(0,v.jsx)(h.I,{as:A.gWm}),children:(0,v.jsx)(l.z,{children:(0,v.jsx)(x.E,{color:"white",fontSize:16,fontWeight:"700",children:"Save"})})})]})})]}),(0,v.jsx)(C.SlideAds,{isOpen:D,onClose:()=>T(!D),onPressPay:()=>{T(!1),e(b.W.PAYMENT)},onPressAds:()=>{T(!1),q({isFree:!0})}}),(0,v.jsx)(g.aj,{isOpen:K})]})}},9703:(e,t,i)=>{i.d(t,{q:()=>h});var s=i(4850),n=i(7681),a=i(3291),o=i(1489),r=i(9950),c=i(4414),l={exit:{duration:.15,ease:s.xf.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},d={exit:e=>{let{direction:t,transition:i,transitionEnd:n,delay:a}=e;var o;const{exit:r}=(0,s.Jv)({direction:t});return{...r,transition:null!=(o=null==i?void 0:i.exit)?o:s.yA.exit(l.exit,a),transitionEnd:null==n?void 0:n.exit}},enter:e=>{let{direction:t,transitionEnd:i,transition:n,delay:a}=e;var o;const{enter:r}=(0,s.Jv)({direction:t});return{...r,transition:null!=(o=null==n?void 0:n.enter)?o:s.yA.enter(l.enter,a),transitionEnd:null==i?void 0:i.enter}}},h=(0,r.forwardRef)((function(e,t){const{direction:i="right",style:r,unmountOnExit:l,in:h,className:x,transition:u,transitionEnd:p,delay:g,motionProps:f,...j}=e,w=(0,s.Jv)({direction:i}),y=Object.assign({position:"fixed"},w.position,r),m=!l||h&&l,S=h||l?"enter":"exit",A={transitionEnd:p,transition:u,direction:i,delay:g};return(0,c.jsx)(a.N,{custom:A,children:m&&(0,c.jsx)(o.P.div,{...j,ref:t,initial:"exit",className:(0,n.cx)("chakra-slide",x),animate:S,exit:"exit",custom:A,variants:d,style:y,...f})})}));h.displayName="Slide"}}]);