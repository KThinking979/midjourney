"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[381],{70712:(e,n,t)=>{t.d(n,{k:()=>c,w:()=>a});var i=t(66220);const o=(0,t(90815).Wp)({apiKey:"AIzaSyDObaXpbUavftTDCAhFmn23akCVpB4cH80",authDomain:"emofi-899d2.firebaseapp.com",projectId:"emofi-899d2",storageBucket:"emofi-899d2.appspot.com",messagingSenderId:"1099226012033",appId:"1:1099226012033:web:2f45b63625daf850bc7080",measurementId:"G-JLXM3H2L66"}),s=(0,i.aU)(o),c=async e=>{let{id:n,username:t,emoFiCoins:o}=e;try{await(0,i.BN)((0,i.H9)(s,"users","".concat(n)),{id:n,username:t,emoFiCoins:o})}catch(c){console.error("Error createUser: ",c)}},a=async e=>{try{let n;const t=(0,i.H9)(s,"users","".concat(e)),o=await(0,i.x7)(t);return o.exists()&&(n=o.data()),n}catch(n){console.error("Error getUser: ",n)}}},45381:(e,n,t)=>{t.r(n),t.d(n,{WalletPage:()=>y});var i=t(9950),o=t(76455),s=t(63247),c=t(61530),a=t(27009),r=t(46206),l=t(3731),d=t(34418),u=t(81374),m=t(22238),h=t(6365),p=t(42691),f=t(32119),x=t(93660),g=t(70712),w=t(44414);let j=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const y=()=>{const{user:e}=(0,i.useContext)(m.j8);console.log("user ",e);const{setUser:n}=i.useContext(m.LN);(0,i.useEffect)((()=>{t(),(async()=>{var t;const i=null===(t=window.Telegram)||void 0===t?void 0:t.WebApp;if(i&&!e){i.ready();const e=i.initDataUnsafe.user;if(e){let t={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),emoFiCoins:0};const i=await(0,g.w)(t.id);i?t={...t,emoFiCoins:i.emoFiCoins}:await(0,g.k)(t),n(t)}}})()}),[]);const t=async()=>{};return(0,w.jsxs)(s.az,{children:[(0,w.jsxs)(o.mg,{children:[(0,w.jsx)("title",{children:"Wallet"}),(0,w.jsx)("meta",{name:"description",content:"EmoFi"})]}),(0,w.jsxs)(c.B,{h:"100vh",w:j,py:20,px:2,spacing:8,children:[e&&(0,w.jsxs)(c.B,{borderRadius:8,p:2,spacing:4,alignItems:"center",children:[(0,w.jsx)(a.Q,{children:(0,w.jsx)(r.e,{size:"xl",name:e.username,src:""})}),(0,w.jsx)(l.E,{fontSize:"16px",lineHeight:"20px",fontWeight:"bold",textAlign:"center",color:"white",children:e.username})]}),(0,w.jsxs)(c.B,{spacing:4,flex:1,justifyContent:"center",children:[(0,w.jsx)(d.z,{spacing:2,children:(0,w.jsx)(l.E,{color:"white",fontSize:16,fontWeight:"700",children:"Wallet TON"})}),(0,w.jsx)(x.MJ,{style:{alignSelf:"center",justifyContent:"center"}}),(0,w.jsx)(u.$,{leftIcon:(0,w.jsx)(h.vsi,{color:"white",size:24}),colorScheme:"cyan",variant:"solid",borderRadius:"full",fontSize:16,onClick:async()=>{console.log("Start Bot 0");const e=new p.cC("7192930476:AAHacE6OvBdRg3wGTtdykYnMO8CboruT3oQ"),n=await e.api.createInvoiceLink("Test Product","Test description","{}","","XTR",[{amount:1,label:"Test Product"}]);console.log("invoiceLink ",n),f.A.openInvoice(n,(e=>{console.log("Status ",e)})),console.log("Start Bot 1")},children:(0,w.jsx)(l.E,{fontSize:16,textAlign:"center",color:"white",children:"Buy Star"})})]})]})]})}}}]);