"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[647],{825:(e,o,s)=>{s.r(o),s.d(o,{ModalLoading:()=>d});s(9950);var n=s(4521),i=s(2463),t=s(2505),c=s(4787),r=s(1389),l=s(3927),a=s(4414);const d=e=>{let{isOpen:o,onClose:s}=e;return(0,a.jsxs)(n.aF,{onClose:s,isOpen:o,size:"full",children:[(0,a.jsx)(i.m,{}),(0,a.jsx)(t.$,{backgroundColor:"transparent",children:(0,a.jsx)(c.c,{children:(0,a.jsx)(r.B,{h:"100vh",pb:10,alignItems:"center",justifyContent:"space-around",children:(0,a.jsx)(l.A,{color:"white",loading:!0,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})})})})]})}},7647:(e,o,s)=>{s.r(o),s.d(o,{ModalPayment:()=>E});var n=s(9950),i=s(2099),t=s(4521),c=s(2463),r=s(2505),l=s(4787),a=s(3247),d=s(4418),x=s(393),h=s(1389),p=s(1317),u=s(6086),j=s(6569),f=s(1374),b=s(2119),g=s(712),w=s(4456),z=s(2691),C=s(2875),m=s(2096),y=s(5495),S=s(5236),k=s(825),I=s(4414);window.innerWidth>500||window.innerWidth;const E=e=>{let{isOpen:o,onClose:E}=e;const{user:B,configs:F}=(0,n.useContext)(S.rf),{setUser:P}=(0,n.useContext)(S.D8),W=(0,i.d)(),[v,A]=(0,n.useState)(!1),[$,O]=(0,n.useState)(F&&F.package?F.package[0]:w.Hy[0]),[L,H]=(0,n.useState)(F&&F.package?F.package:w.Hy);(0,n.useEffect)((()=>{M()}),[o]);const M=async()=>{window.scrollTo(0,0)};return(0,I.jsxs)(t.aF,{onClose:E,isOpen:o,size:"full",children:[(0,I.jsx)(c.m,{}),(0,I.jsx)(r.$,{zIndex:9999,children:(0,I.jsxs)(l.c,{p:0,children:[(0,I.jsx)(a.az,{transition:"0.9s ease",pos:"fixed",top:0,w:"full",zIndex:999,children:(0,I.jsxs)(d.z,{flex:1,p:2,justifyContent:"space-between",w:"full",minH:"40px",children:[(0,I.jsx)(x.I,{as:y.$8F,boxSize:7,padding:0,color:"red.500",zIndex:999,onClick:()=>{E&&E()}}),(0,I.jsx)(h.B,{})]})}),(0,I.jsx)(h.B,{px:2,pt:10,backgroundColor:"black",children:(0,I.jsxs)(h.B,{spacing:4,pb:40,children:[(0,I.jsxs)(h.B,{justifyContent:"center",alignItems:"center",children:[(0,I.jsx)(p.E,{color:"white",fontSize:18,fontWeight:"bold",children:"Purchase Coins"}),(0,I.jsx)(p.E,{color:"white",fontSize:14,children:"Please choose one of the following costs"})]}),L.map((e=>{const{id:o,coins:n,cost:i,disCost:t,description1:c}=e,r=n/(F&&F.feeBasic?F.feeBasic:.2),l=o===$.id;return(0,I.jsx)(h.B,{spacing:4,borderRadius:8,borderColor:l?"blue.400":"gray.500",borderWidth:l?2:1,px:2,py:4,onClick:()=>{O(e)},children:(0,I.jsxs)(d.z,{spacing:2,justifyContent:"space-between",children:[(0,I.jsxs)(h.B,{spacing:2,children:[(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(p.E,{color:"white",fontSize:14,children:(new Intl.NumberFormat).format(n)}),(0,I.jsx)(u.o,{children:(0,I.jsx)(j._,{boxSize:"18px",src:s(2975),alt:"card"})}),(0,I.jsx)(p.E,{color:"white",fontSize:14,children:"Coins"})]}),(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(p.E,{color:"white",fontSize:14,children:"".concat((new Intl.NumberFormat).format(r)," ").concat(c)})]}),t&&(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(p.E,{color:"red.400",fontSize:14,children:"Save ".concat(((t-i)/t*100).toFixed(2),"%")})]})]}),(0,I.jsxs)(h.B,{alignItems:"center",justifyContent:"center",spacing:"2px",children:[(0,I.jsx)(p.E,{color:"white",fontSize:18,fontWeight:"700",children:"$".concat(i)}),t&&(0,I.jsx)(p.E,{as:"s",color:"gray",fontSize:17,children:"$".concat(t)})]})]})},o)}))]})}),(0,I.jsx)(h.B,{spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,I.jsx)(f.$,{maxWidth:"500px",py:4,mx:2,my:4,colorScheme:"green",borderRadius:"full",onClick:async()=>{try{A(!0);const e=new z.cC(F.tokenApp),o=$.title,s=$.title,n="{}",i="XTR",t=[{amount:$.star,label:$.title}],c=await e.api.createInvoiceLink(o,s,n,"",i,t);let r=$.coins;e.on("pre_checkout_query",(e=>e.answerPreCheckoutQuery(!0).catch((()=>{console.log("answerPreCheckoutQuery failed")})))),b.A.openInvoice(c,(async e=>{if("paid"===e){const e=parseFloat(B.coins+$.coins);await(0,g.bF)({id:B.id,coins:e,transactionId:r}),P({...B,coins:e}),A(!1),W({title:"Success Purchase",status:"success",position:"top",isClosable:!0}),E&&E()}else A(!1),E&&E(),W({title:"Fail Purchase",status:"error",position:"top",isClosable:!0})})),e.start()}catch(e){console.log("Error ",e),A(!1),E&&E(),W({title:"Fail Purchase",status:"error",position:"top",isClosable:!0})}},children:(0,I.jsxs)(d.z,{children:[(0,I.jsx)(p.E,{color:"white",fontSize:16,fontWeight:"700",children:"Payment"}),(0,I.jsx)(p.E,{color:"white",fontSize:16,children:(new Intl.NumberFormat).format($.star)}),(0,I.jsx)(x.I,{color:"yellow.400",as:C.gt3,boxSize:5})]})})}),(0,I.jsx)(k.ModalLoading,{isOpen:v})]})})]})}},2975:(e,o,s)=>{e.exports=s.p+"static/media/coin.84cf06a861a4cfb9ad42.png"}}]);