"use strict";(self.webpackChunkmidjourney=self.webpackChunkmidjourney||[]).push([[7647,825],{30825:(e,o,s)=>{s.r(o),s.d(o,{ModalLoading:()=>d});s(9950);var n=s(64521),t=s(22463),i=s(42505),r=s(44787),c=s(81389),l=s(33927),a=s(44414);const d=e=>{let{isOpen:o,onClose:s}=e;return(0,a.jsxs)(n.aF,{onClose:s,isOpen:o,size:"full",children:[(0,a.jsx)(t.m,{}),(0,a.jsx)(i.$,{backgroundColor:"transparent",children:(0,a.jsx)(r.c,{children:(0,a.jsx)(c.B,{h:"100vh",pb:10,alignItems:"center",justifyContent:"space-around",children:(0,a.jsx)(l.A,{color:"white",loading:!0,size:40,"aria-label":"Loading Spinner","data-testid":"loader"})})})})]})}},17647:(e,o,s)=>{s.r(o),s.d(o,{ModalPayment:()=>E});var n=s(9950),t=s(22099),i=s(64521),r=s(22463),c=s(42505),l=s(44787),a=s(63247),d=s(34418),x=s(20393),h=s(81389),u=s(31317),p=s(66086),j=s(46569),f=s(81374),b=s(32119),g=s(70712),w=s(44456),z=s(42691),C=s(22875),m=s(82096),y=s(25495),S=s(45236),k=s(30825),I=s(44414);window.innerWidth>500||window.innerWidth;const E=e=>{let{isOpen:o,onClose:E}=e;const{user:B,configs:F}=(0,n.useContext)(S.rf),{setUser:P}=(0,n.useContext)(S.D8),W=(0,t.d)(),[v,A]=(0,n.useState)(!1),[$,O]=(0,n.useState)(F&&F.package?F.package[0]:w.Hy[0]),[L,H]=(0,n.useState)(F&&F.package?F.package:w.Hy);(0,n.useEffect)((()=>{M()}),[o]);const M=async()=>{window.scrollTo(0,0)};return(0,I.jsxs)(i.aF,{onClose:E,isOpen:o,size:"full",children:[(0,I.jsx)(r.m,{}),(0,I.jsx)(c.$,{zIndex:9999,children:(0,I.jsxs)(l.c,{p:0,children:[(0,I.jsx)(a.az,{transition:"0.9s ease",pos:"fixed",top:0,w:"full",zIndex:999,children:(0,I.jsxs)(d.z,{flex:1,p:2,justifyContent:"space-between",w:"full",minH:"40px",children:[(0,I.jsx)(x.I,{as:y.$8F,boxSize:7,padding:0,color:"red.500",zIndex:999,onClick:()=>{E&&E()}}),(0,I.jsx)(h.B,{})]})}),(0,I.jsx)(h.B,{px:2,pt:10,backgroundColor:"black",children:(0,I.jsxs)(h.B,{spacing:4,pb:40,children:[(0,I.jsxs)(h.B,{justifyContent:"center",alignItems:"center",children:[(0,I.jsx)(u.E,{color:"white",fontSize:18,fontWeight:"bold",children:"Purchase Coins"}),(0,I.jsx)(u.E,{color:"white",fontSize:14,children:"Please choose one of the following costs"})]}),L.map((e=>{const{id:o,coins:n,cost:t,disCost:i,description1:r}=e,c=n/(F&&F.feeBasic?F.feeBasic:.2),l=o===$.id;return(0,I.jsx)(h.B,{spacing:4,borderRadius:8,borderColor:l?"blue.400":"gray.500",borderWidth:l?2:1,px:2,py:4,onClick:()=>{O(e)},children:(0,I.jsxs)(d.z,{spacing:2,justifyContent:"space-between",children:[(0,I.jsxs)(h.B,{spacing:2,children:[(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(u.E,{color:"white",fontSize:14,children:(new Intl.NumberFormat).format(n)}),(0,I.jsx)(p.o,{children:(0,I.jsx)(j._,{boxSize:"18px",src:s(42975),alt:"card"})}),(0,I.jsx)(u.E,{color:"white",fontSize:14,children:"Coins"})]}),(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(u.E,{color:"white",fontSize:14,children:"".concat((new Intl.NumberFormat).format(c)," ").concat(r)})]}),i&&(0,I.jsxs)(d.z,{children:[(0,I.jsx)(x.I,{color:"blue.400",as:m.dA7,boxSize:6}),(0,I.jsx)(u.E,{color:"red.400",fontSize:14,children:"Save ".concat(((i-t)/i*100).toFixed(2),"%")})]})]}),(0,I.jsxs)(h.B,{alignItems:"center",justifyContent:"center",spacing:"2px",children:[(0,I.jsx)(u.E,{color:"white",fontSize:18,fontWeight:"700",children:"$".concat(t)}),i&&(0,I.jsx)(u.E,{as:"s",color:"gray",fontSize:17,children:"$".concat(i)})]})]})},o)}))]})}),(0,I.jsx)(h.B,{pb:2,spacing:4,flex:1,justifyContent:"center",pos:"fixed",bottom:0,w:"full",zIndex:999,backgroundColor:"black",children:(0,I.jsx)(f.$,{maxWidth:"500px",py:4,mx:2,my:4,colorScheme:"green",borderRadius:"full",onClick:async()=>{try{A(!0);const e=new z.cC(F.tokenApp),o=$.title,s=$.title,n="{}",t="XTR",i=[{amount:$.star,label:$.title}],r=await e.api.createInvoiceLink(o,s,n,"",t,i);let c=$.coins;e.on("pre_checkout_query",(e=>e.answerPreCheckoutQuery(!0).catch((()=>{console.log("answerPreCheckoutQuery failed")})))),b.A.openInvoice(r,(async e=>{if("paid"===e){const e=parseFloat(B.coins+$.coins);await(0,g.bF)({id:B.id,coins:e,transactionId:c}),P({...B,coins:e}),A(!1),W({title:"Success Purchase",status:"success",position:"bottom",isClosable:!0,duration:2e3}),E&&E()}else A(!1),E&&E(),W({title:"Fail Purchase",status:"error",position:"bottom",isClosable:!0,duration:2e3})})),e.start()}catch(e){console.log("Error ",e),A(!1),E&&E(),W({title:"Fail Purchase",status:"error",position:"bottom",isClosable:!0,duration:2e3})}},children:(0,I.jsxs)(d.z,{children:[(0,I.jsx)(u.E,{color:"white",fontSize:16,fontWeight:"700",children:"Payment"}),(0,I.jsx)(u.E,{color:"white",fontSize:16,children:(new Intl.NumberFormat).format($.star)}),(0,I.jsx)(x.I,{color:"yellow.400",as:C.gt3,boxSize:5})]})})}),(0,I.jsx)(k.ModalLoading,{isOpen:v})]})})]})}}}]);