"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[6187],{1940:(e,t,n)=>{n.d(t,{Kc:()=>s,MF:()=>i,ay:()=>a,nn:()=>o});var r=n(4451);const i=(0,r.j)((()=>n.e(465).then(n.bind(n,465))),(e=>e.ImageFast)),o=(0,r.j)((()=>n.e(9606).then(n.bind(n,9606))),(e=>e.ImageSkeleton)),s=(0,r.j)((()=>n.e(2613).then(n.bind(n,2613))),(e=>e.ImageSkeletonShow)),a=(0,r.j)((()=>n.e(8977).then(n.bind(n,8977))),(e=>e.ImageSkeletonFace))},4137:(e,t,n)=>{n.r(t),n.d(t,{AlbumPage:()=>S});var r=n(9950),i=n(6455),o=n(3247),s=n(1389),a=n(4418),l=n(5890),c=n(5439),u=n(1374),d=n(1317),p=n(194),f=n(8671),h=n(1878),m=n(393),x=n(5236),g=n(712),y=n(327),w=n(6256),b=n(1940),v=n(3564),j=n(3246),C=n(2875),_=n(8412),E=n(4414);let k=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const S=()=>{const e=(0,v.Zp)(),{configs:t,user:n}=(0,r.useContext)(x.rf),{setConfigs:S,setUser:N}=(0,r.useContext)(x.D8),[A,I]=(0,r.useState)(!0),[z,T]=(0,r.useState)(!1),[O,L]=(0,r.useState)(!1),[M,B]=(0,r.useState)("All"),[W,D]=(0,r.useState)(!0),[P,V]=(0,r.useState)(),[R,$]=(0,r.useState)([]),[H,K]=(0,r.useState)();(0,r.useEffect)((()=>{window.scrollTo(0,0),F()}),[]);const F=async()=>{if(I(!0),!t){const e=await(0,g.Y_)();S(e),G()}await U({textKey:"",idLast:P}),I(!1)},G=async()=>{var e;const t=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(t&&!n){t.ready();const e=t.initDataUnsafe.user;if(e){let t={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:0};const n=await(0,g.wz)(t.id);n?t={...n,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,g.kg)(t),N(t)}}},U=async e=>{let{textKey:t,idLast:r}=e;if(!O&&W){L(!0);let e=await(0,g.Zt)({id:n.id,idLast:r});if(e&&e.length){$([...R,...e]);const t=e[e.length-1];V(t.id)}else D(!1);L(!1)}},X=(0,r.useCallback)((async()=>{const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;e+n>=t-.5&&await U({textKey:"",idLast:P})}),[R,W,O]);return(0,r.useEffect)((()=>(window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X))),[X]),(0,E.jsxs)(o.az,{children:[(0,E.jsxs)(i.mg,{children:[(0,E.jsx)("title",{children:"Album"}),(0,E.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,E.jsxs)(s.B,{h:"100vh",w:k,py:16,px:2,spacing:4,children:[(0,E.jsx)(s.B,{children:(0,E.jsx)(a.z,{pos:"fixed",zIndex:999,right:2,display:"none",children:(0,E.jsxs)(l.W,{children:[(0,E.jsx)(c.I,{variant:"outline",borderRadius:"full",borderColor:"purple.400",borderWidth:1,as:u.$,rightIcon:(0,E.jsx)(y.gpS,{color:"white",size:18}),size:"sm",minW:20,_focus:{bg:"transparent"},_hover:{bg:"transparent"},_expanded:{bg:"transparent"},children:(0,E.jsx)(d.E,{color:"white",fontSize:14,fontWeight:"700",children:M})}),(0,E.jsx)(p.c,{backgroundColor:"gray.800",borderColor:"gray.800",color:"white",children:(0,E.jsxs)(f.i,{defaultValue:"All",type:"radio",onChange:e=>{B(e)},children:[(0,E.jsx)(h.k,{backgroundColor:"transparent",value:"All",children:"All"}),(0,E.jsx)(h.k,{backgroundColor:"transparent",value:"Photos",children:"Photos"}),(0,E.jsx)(h.k,{backgroundColor:"transparent",value:"Videos",children:"Videos"})]})})]})})}),(0,E.jsx)(s.B,{padding:0,pb:40,pt:6,onScroll:X,children:(0,E.jsx)(w.A,{columnsCount:2,gutter:"16px",children:R.map(((e,t)=>{const{uri:n}=e;return(0,E.jsx)(b.nn,{uri:n,onPress:()=>{K(e),T(!0)}},t)}))})}),!A&&0===R.length&&(0,E.jsxs)(s.B,{p:4,spacing:2,children:[(0,E.jsx)(d.E,{textAlign:"center",fontSize:14,color:"white",children:"Empty List"}),(0,E.jsx)(u.$,{size:"md",colorScheme:"purple",borderRadius:"full",leftIcon:(0,E.jsx)(m.I,{as:C.lV_,boxSize:5}),onClick:()=>{e(_.W.TEXT_ANIME)},children:(0,E.jsx)(a.z,{children:(0,E.jsx)(d.E,{color:"white",fontSize:16,fontWeight:"700",children:"Let Start"})})})]})]}),H&&(0,E.jsx)(j.xN,{isOpen:z,dataAI:H,onClose:e=>{if(e&&R){const e=R.filter((e=>e.id!==H.id));$(e)}T(!1)}})]})}},6256:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(9950);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n);var a=s.prototype;return a.getColumns=function(){var e=this.props,t=e.children,n=e.columnsCount,i=Array.from({length:n},(function(){return[]})),o=0;return r.Children.forEach(t,(function(e){e&&r.isValidElement(e)&&(i[o%n].push(e),o++)})),i},a.renderColumns=function(){var e=this.props,t=e.gutter,n=e.itemTag,o=e.itemStyle;return this.getColumns().map((function(e,s){return r.createElement(n,{key:s,style:i({display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:t},o)},e.map((function(e){return e})))}))},a.render=function(){var e=this.props,t=e.gutter,n=e.className,o=e.style,s=e.containerTag;return r.createElement(s,{style:i({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},o),className:n},this.renderColumns())},s}(r.Component);s.propTypes={},s.defaultProps={columnsCount:3,gutter:"0",className:null,style:{},containerTag:"div",itemTag:"div",itemStyle:{}};const a=s;var l="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,c=function(){var e=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return l((function(){n(!0)}),[]),t}(),t=(0,r.useState)("undefined"!==typeof window?window.innerWidth:0),n=t[0],i=t[1],o=(0,r.useCallback)((function(){e&&i(window.innerWidth)}),[e]);return l((function(){if(e)return window.addEventListener("resize",o),o(),function(){return window.removeEventListener("resize",o)}}),[e,o]),n},u=function(e){var t=e.columnsCountBreakPoints,n=void 0===t?{350:1,750:2,900:3}:t,i=e.children,o=e.className,s=void 0===o?null:o,a=e.style,l=void 0===a?null:a,u=c(),d=(0,r.useMemo)((function(){var e=Object.keys(n).sort((function(e,t){return e-t})),t=e.length>0?n[e[0]]:1;return e.forEach((function(e){e<u&&(t=n[e])})),t}),[u,n]);return r.createElement("div",{className:s,style:l},r.Children.map(i,(function(e,t){return r.cloneElement(e,{key:t,columnsCount:d})})))};u.propTypes={};const d=a},9787:(e,t,n)=>{function r(e){return null!=e&&"object"==typeof e&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function i(e){var t;if(!r(e))return!1;return e instanceof(null!=(t=e.ownerDocument.defaultView)?t:window).HTMLElement}function o(e){var t,n;return null!=(n=null==(t=s(e))?void 0:t.defaultView)?n:window}function s(e){return r(e)?e.ownerDocument:document}function a(e){return s(e).activeElement}n.d(t,{bq:()=>a,mD:()=>o,sb:()=>i})},1827:(e,t,n)=>{n.d(t,{AO:()=>l,tp:()=>a});var r=n(9787),i=e=>e.hasAttribute("tabindex"),o=e=>i(e)&&-1===e.tabIndex;function s(e){return!(!e.parentElement||!s(e.parentElement))||e.hidden}function a(e){if(!(0,r.sb)(e)||s(e)||function(e){return!0===Boolean(e.getAttribute("disabled"))||!0===Boolean(e.getAttribute("aria-disabled"))}(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const n={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in n?n[t]():!!function(e){const t=e.getAttribute("contenteditable");return"false"!==t&&null!=t}(e)||i(e)}function l(e){return!!e&&((0,r.sb)(e)&&a(e)&&!o(e))}},1878:(e,t,n)=>{n.d(t,{k:()=>f});var r=n(5890),i=n(8039),o=n(6306),s=n(9950),a=n(4414),l=(0,i.R)(((e,t)=>{const{type:n,...i}=e,l=(0,r.$)(),c=i.as||n?null!=n?n:void 0:"button",u=(0,s.useMemo)((()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...l.item})),[l.item]);return(0,a.jsx)(o.B.button,{ref:t,type:c,...i,__css:u})})),c=n(7681),u=e=>{const{className:t,children:n,...i}=e,l=(0,r.$)(),u=s.Children.only(n),d=(0,s.isValidElement)(u)?(0,s.cloneElement)(u,{focusable:"false","aria-hidden":!0,className:(0,c.cx)("chakra-menu__icon",u.props.className)}):null,p=(0,c.cx)("chakra-menu__icon-wrapper",t);return(0,a.jsx)(o.B.span,{className:p,...i,__css:l.icon,children:d})};u.displayName="MenuIcon";var d=n(9077),p=e=>(0,a.jsx)("svg",{viewBox:"0 0 14 14",width:"1em",height:"1em",...e,children:(0,a.jsx)("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})}),f=(0,i.R)(((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",...i}=e,o=(0,d.gA)(i,t);return(0,a.jsxs)(l,{...o,className:(0,c.cx)("chakra-menu__menuitem-option",i.className),children:[null!==n&&(0,a.jsx)(u,{fontSize:"0.8em",marginEnd:r,opacity:e.isChecked?1:0,children:n||(0,a.jsx)(p,{})}),(0,a.jsx)("span",{style:{flex:1},children:o.children})]})}));f.id="MenuItemOption",f.displayName="MenuItemOption"},8671:(e,t,n)=>{n.d(t,{i:()=>u});var r=n(5890),i=n(8039),o=n(6306),s=n(7681),a=n(4414),l=(0,i.R)(((e,t)=>{const{title:n,children:i,className:l,...c}=e,u=(0,s.cx)("chakra-menu__group__title",l),d=(0,r.$)();return(0,a.jsxs)("div",{ref:t,className:"chakra-menu__group",role:"group",children:[n&&(0,a.jsx)(o.B.p,{className:u,...c,__css:d.groupTitle,children:n}),i]})}));l.displayName="MenuGroup";var c=n(9077),u=e=>{const{className:t,title:n,...r}=e,i=(0,c.vX)(r);return(0,a.jsx)(l,{title:n,className:(0,s.cx)("chakra-menu__option-group",t),...i})};u.displayName="MenuOptionGroup"}}]);