"use strict";(self.webpackChunkemojifi=self.webpackChunkemojifi||[]).push([[916],{1940:(e,t,i)=>{i.d(t,{Kc:()=>s,MF:()=>n,nn:()=>o});var a=i(4451);const n=(0,a.j)((()=>i.e(465).then(i.bind(i,465))),(e=>e.ImageFast)),o=(0,a.j)((()=>i.e(606).then(i.bind(i,9606))),(e=>e.ImageSkeleton)),s=(0,a.j)((()=>i.e(613).then(i.bind(i,2613))),(e=>e.ImageSkeletonShow))},4916:(e,t,i)=>{i.r(t),i.d(t,{DashBoardPage:()=>b});var a=i(9950),n=i(6455),o=i(3247),s=i(1389),r=i(2481),c=i(393),l=i(1317),d=i(4418),m=i(327),p=i(1912),h=i(2423),x=i(6365),g=i(2935),u=i(7738),S=i(917),w=i(5236),A=i(712),I=i(7385),j=i(6256),E=i(1940),f=i(4456),_=i(3564),T=i(8412),C=i(4414);let v=window.innerWidth>500?500:window.innerWidth;window.innerHeight;const y=[{id:"0",mode:f.g.TEXT_ARTISTIC,path:T.W.TEXT_ARTISTIC,title:"Text Artistic",icon:m.P9_,emoji:""},{id:"1",mode:f.g.IMAGE_ARTISTIC,path:T.W.IMAGE_ARTISTIC,title:"Image Artistic",icon:p.hjn,emoji:""},{id:"2",mode:f.g.SD3_SUPPER,path:T.W.SD3_SUPPER,title:"SD3 Supper",icon:h.$iZ,emoji:""},{id:"3",mode:f.g.FACE_STICKER,path:T.W.FACE_STICKER,title:"Face Sticker",icon:g.jg2,emoji:""},{id:"4",mode:f.g.FACE_SWAP,path:T.W.FACE_SWAP,title:"FaceSwap",icon:x.yOh,emoji:""},{id:"5",mode:f.g.BACKGROUND,path:T.W.BACKGROUND,title:"Background",icon:u.HY1,emoji:""},{id:"6",mode:f.g.TEXT_ANIME,path:T.W.TEXT_ANIME,title:"Text Anime",icon:S.ZQS,emoji:""},{id:"7",mode:f.g.IMAGE_ANIME,path:T.W.IMAGE_ANIME,title:"Image Anime",icon:u.a6J,emoji:""},{id:"8",mode:f.g.VIDEO_ANIME,path:T.W.VIDEO_ANIME,title:"Video Anime",icon:m.Am_,emoji:""}],b=()=>{const e=(0,_.Zp)(),{user:t,configs:i}=(0,a.useContext)(w.rf),{setUser:m,setConfigs:p,setListAIStyleAll:h}=(0,a.useContext)(w.D8),[x,g]=(0,a.useState)(!0),[u,S]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!0),[W,F]=(0,a.useState)(0),[k,M]=(0,a.useState)([]),R=async e=>{let{isFirst:t,_textKey:a,_cursor:n}=e;if(!u&&n<=i.limitSearch){S(!0);let e=await(0,A.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:a,cursor:n});if(e&&e.prompts&&0===e.prompts.length&&(e=await(0,A.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:a,cursor:n})),e&&e.prompts&&0===e.prompts.length&&(e=await(0,A.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:a,cursor:n})),e&&e.prompts&&0===e.prompts.length&&(e=await(0,A.FH)({server:i&&i.lexicaSearch?i.lexicaSearch:"https://lexica.art/api/infinite-prompts",model:i&&i.modelLexica?i.modelLexica:"lexica-aperture-v2",text:a,cursor:n})),e&&e.prompts&&e.prompts.length){const{prompts:t}=e,a=[];for(let e=0;e<t.length;e++){const n=t[e];a.push({id:n.id,textKey:n.prompt,negativeKey:n.negativePrompt?n.negativePrompt:"",uri:n.images.length?"".concat(i.lexicaImageSm2,"/").concat(n.images[0].id):"",width:n.width,height:n.height,isLast:e===t.length-1?k.length+t.length:0})}M([...k,...a]),F(n+50),n+50===i.limitSearch&&b(!1)}else M([]);!x&&await(0,I.yy)(1e3),S(!1)}};(0,a.useEffect)((()=>{(async()=>{await R({isFirst:!1,_textKey:"",_cursor:0})})(),(async()=>{var e;const a=await(0,A.Y_)();p(a);const n=await(0,A.Vo)();h(n);const o=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;if(o&&!t){o.ready();const e=o.initDataUnsafe.user;if(e){let t={id:e.id,username:"".concat(e.last_name," ").concat(e.first_name),coins:i.initCoin?i.initCoin:0};const a=await(0,A.wz)(t.id);a?t={...a,username:"".concat(e.last_name," ").concat(e.first_name)}:await(0,A.kg)(t),m(t)}}if(a.isTest){let e={id:"0",username:"Kai Test",coins:100};const t=await(0,A.wz)(e.id);t?e={...t}:await(0,A.kg)(e),m(e)}})()}),[]);const K=(0,a.useCallback)((async()=>{const{scrollTop:e,scrollHeight:t,clientHeight:i}=document.documentElement;e+i>=t-.5&&await R({isFirst:!1,_textKey:"",_cursor:0})}),[k]);(0,a.useEffect)((()=>(window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K))),[K]);const L=(0,a.useCallback)((async t=>{e(t.path)}),[]);return(0,C.jsxs)(o.az,{children:[(0,C.jsxs)(n.mg,{children:[(0,C.jsx)("title",{children:"Dashboard"}),(0,C.jsx)("meta",{name:"description",content:"Midjourney AI"})]}),(0,C.jsxs)(s.B,{h:"100vh",w:v,py:20,px:2,spacing:10,children:[(0,C.jsx)(s.B,{borderRadius:8,py:2,spacing:2,children:(0,C.jsx)(r.x,{templateColumns:"repeat(3, 1fr)",gap:5,children:y.map((e=>(0,C.jsxs)(s.B,{flex:1,alignItems:"center",justifyContent:"center",borderColor:"#818cf8",borderWidth:2,borderRadius:8,bg:"transparent",minW:20,minH:20,spacing:2,_active:{bg:"blue.500"},onClick:()=>L(e),children:[(0,C.jsx)(c.I,{color:"white",as:e.icon,boxSize:8}),(0,C.jsx)(l.E,{textAlign:"center",color:"white",fontSize:14,children:e.title})]},e.id)))})}),(0,C.jsxs)(s.B,{padding:0,py:4,pb:40,onScroll:K,children:[(0,C.jsx)(d.z,{spacing:2,children:(0,C.jsx)(l.E,{color:"white",fontSize:16,fontWeight:"700",children:"\ud83c\udfa8 Artistic Key"})}),(0,C.jsx)(j.A,{columnsCount:2,gutter:"16px",children:k.map(((t,i)=>{const{id:a,uri:n}=t;return(0,C.jsx)(E.MF,{uri:n,onPress:()=>{e(T.W.TEXT_ARTISTIC)}},i)}))})]})]})]})}}}]);